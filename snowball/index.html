<!DOCTYPE html>
<html lang="en-US">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1">


<title>new release &ndash; snowball &ndash; all about the restore &ndash; dbatools</title>
<link rel="dns-prefetch" href="//secure.gravatar.com">
<link rel="dns-prefetch" href="//fonts.googleapis.com">
<link rel="dns-prefetch" href="//use.fontawesome.com">

<link rel="alternate" type="application/rss+xml" title="dbatools &raquo; Feed" href="https://dbatools.io/feed/">
<link rel="alternate" type="application/rss+xml" title="dbatools &raquo; Comments Feed" href="https://dbatools.io/comments/feed/">
<link rel="alternate" type="application/rss+xml" title="dbatools &raquo; new release &ndash; snowball &ndash; all about the restore Comments Feed" href="https://dbatools.io/snowball/feed/">
<link rel="stylesheet" id="wp-block-library-css" href="https://c0.wp.com/c/5.3.4/wp-includes/css/dist/block-library/style.min.css" type="text/css" media="all">
<style id="wp-block-library-inline-css" type="text/css">
.has-text-align-justify{text-align:justify;}
</style>
<link rel="stylesheet" id="cpsh-shortcodes-css" href="https://dbatools.io/wp-content/plugins/column-shortcodes//assets/css/shortcodes.css?ver=1.0" type="text/css" media="all">
<link rel="stylesheet" id="onepress-fonts-css" href="https://fonts.googleapis.com/css?family=Raleway%3A400%2C500%2C600%2C700%2C300%2C100%2C800%2C900%7COpen+Sans%3A400%2C300%2C300italic%2C400italic%2C600%2C600italic%2C700%2C700italic&amp;subset=latin%2Clatin-ext&amp;ver=11.0.0" type="text/css" media="all">
<link rel="stylesheet" id="onepress-animate-css" href="https://dbatools.io/wp-content/themes/onepress-master/assets/css/animate.min.css?ver=11.0.0" type="text/css" media="all">
<link rel="stylesheet" id="onepress-fa-css" href="https://dbatools.io/wp-content/themes/onepress-master/assets/css/font-awesome.min.css?ver=11.0.0" type="text/css" media="all">
<link rel="stylesheet" id="onepress-bootstrap-css" href="https://dbatools.io/wp-content/themes/onepress-master/assets/css/bootstrap.min.css?ver=11.0.0" type="text/css" media="all">
<link rel="stylesheet" id="onepress-style-css" href="https://dbatools.io/wp-content/plugins/onepress-plus/style.css?ver=10.1.8" type="text/css" media="all">
<style id="onepress-style-inline-css" type="text/css">
#main .video-section section.hero-slideshow-wrapper{background:transparent}.hero-slideshow-wrapper:after{position:absolute;top:0px;left:0px;width:100%;height:100%;background-color:rgba(1,36,86,1);display:block;content:""}.body-desktop .parallax-hero .hero-slideshow-wrapper:after{display:none!important}.parallax-hero .parallax-mirror:after{position:absolute;top:0px;left:0px;width:100%;height:100%;background-color:rgba(1,36,86,1);display:block;content:""}.body-desktop .parallax-hero .hero-slideshow-wrapper:after{display:none!important}.parallax-hero .parallax-mirror:after{position:absolute;top:0px;left:0px;width:100%;height:100%;background-color:rgba(1,36,86,1);display:block;content:""}a,.screen-reader-text:hover,.screen-reader-text:active,.screen-reader-text:focus,.header-social a,.onepress-menu a:hover,.onepress-menu ul li a:hover,.onepress-menu li.onepress-current-item>a,.onepress-menu ul li.current-menu-item>a,.onepress-menu>li a.menu-actived,.onepress-menu.onepress-menu-mobile li.onepress-current-item>a,.site-footer a,.site-footer .footer-social a:hover,.site-footer .btt a:hover,.highlight,#comments .comment .comment-wrapper .comment-meta .comment-time:hover,#comments .comment .comment-wrapper .comment-meta .comment-reply-link:hover,#comments .comment .comment-wrapper .comment-meta .comment-edit-link:hover,.btn-theme-primary-outline,.sidebar .widget a:hover,.section-services .service-item .service-image i,.counter_item .counter__number,.team-member .member-thumb .member-profile a:hover,.icon-background-default{color:#012456}input[type="reset"],input[type="submit"],input[type="submit"],.nav-links a:hover,.btn-theme-primary,.btn-theme-primary-outline:hover,.card-theme-primary,.woocommerce #respond input#submit,.woocommerce a.button,.woocommerce button.button,.woocommerce input.button,.woocommerce button.button.alt{background:#012456}.btn-theme-primary-outline,.btn-theme-primary-outline:hover,.pricing__item:hover,.card-theme-primary,.entry-content blockquote{border-color:#012456}.site-header{background:#e3e3e3;border-bottom:0px none}.onepress-menu>li>a{color:#293955}.onepress-menu>li>a:hover,.onepress-menu>li.onepress-current-item>a{color:#444444;-webkit-transition:all 0.5s ease-in-out;-moz-transition:all 0.5s ease-in-out;-o-transition:all 0.5s ease-in-out;transition:all 0.5s ease-in-out}#nav-toggle span,#nav-toggle span::before,#nav-toggle span::after,#nav-toggle.nav-is-visible span::before,#nav-toggle.nav-is-visible span::after{background:#293955}.site-footer{background-color:#012456}.site-footer .footer-connect .follow-heading{color:rgba(255,255,255,0.9)}.site-footer .site-info,.site-footer .btt a{background-color:#545454}.site-footer .site-info{color:rgba(255,255,255,0.7)}.site-footer .btt a,.site-footer .site-info a{color:rgba(255,255,255,0.9)}.gallery-carousel .g-item{padding:0px 10px}.gallery-carousel{margin-left:-10px;margin-right:-10px}.gallery-grid .g-item,.gallery-masonry .g-item .inner{padding:10px}.gallery-grid,.gallery-masonry{margin:-10px}
/* --- Begin custom CSS --- */
.section-testimonials .card { max-width : 140px; }
/* --- End custom CSS --- */

 .section-features{ background-color: rgba(227,227,227,1); } 
 
</style>
<link rel="stylesheet" id="onepress-gallery-lightgallery-css" href="https://dbatools.io/wp-content/themes/onepress-master/assets/css/lightgallery.css?ver=5.3.4" type="text/css" media="all">
<link rel="stylesheet" id="upw_theme_standard-css" href="https://dbatools.io/wp-content/plugins/ultimate-posts-widget/css/upw-theme-standard.min.css?ver=5.3.4" type="text/css" media="all">
<link rel="stylesheet" id="font-awesome-official-css" href="https://use.fontawesome.com/releases/v5.11.2/css/all.css" type="text/css" media="all" integrity="sha384-KA6wR/X5RY4zFAHpv/CnoG2UW1uogYfdnP67Uv7eULvTveboZJg0qUpmJZb5VqzN" crossorigin="anonymous">
<link rel="stylesheet" id="onepress-child-style-css" href="https://dbatools.io/wp-content/themes/onepress/style.css?ver=5.3.4" type="text/css" media="all">
<link rel="stylesheet" id="sccss_style-css" href="https://dbatools.io/?sccss=1&amp;ver=5.3.4" type="text/css" media="all">
<link rel="stylesheet" id="font-awesome-official-v4shim-css" href="https://use.fontawesome.com/releases/v5.11.2/css/v4-shims.css" type="text/css" media="all" integrity="sha384-/EdpJd7d6gGFiQ/vhh7iOjiZdf4+6K4al/XrX6FxxZwDSrAdWxAynr4p/EA/vyPQ" crossorigin="anonymous">
<style id="font-awesome-official-v4shim-inline-css" type="text/css">
@font-face {
font-family: "FontAwesome";
src: url("https://use.fontawesome.com/releases/v5.11.2/webfonts/fa-brands-400.eot"),
		url("https://use.fontawesome.com/releases/v5.11.2/webfonts/fa-brands-400.eot?#iefix") format("embedded-opentype"),
		url("https://use.fontawesome.com/releases/v5.11.2/webfonts/fa-brands-400.woff2") format("woff2"),
		url("https://use.fontawesome.com/releases/v5.11.2/webfonts/fa-brands-400.woff") format("woff"),
		url("https://use.fontawesome.com/releases/v5.11.2/webfonts/fa-brands-400.ttf") format("truetype"),
		url("https://use.fontawesome.com/releases/v5.11.2/webfonts/fa-brands-400.svg#fontawesome") format("svg");
}

@font-face {
font-family: "FontAwesome";
src: url("https://use.fontawesome.com/releases/v5.11.2/webfonts/fa-solid-900.eot"),
		url("https://use.fontawesome.com/releases/v5.11.2/webfonts/fa-solid-900.eot?#iefix") format("embedded-opentype"),
		url("https://use.fontawesome.com/releases/v5.11.2/webfonts/fa-solid-900.woff2") format("woff2"),
		url("https://use.fontawesome.com/releases/v5.11.2/webfonts/fa-solid-900.woff") format("woff"),
		url("https://use.fontawesome.com/releases/v5.11.2/webfonts/fa-solid-900.ttf") format("truetype"),
		url("https://use.fontawesome.com/releases/v5.11.2/webfonts/fa-solid-900.svg#fontawesome") format("svg");
}

@font-face {
font-family: "FontAwesome";
src: url("https://use.fontawesome.com/releases/v5.11.2/webfonts/fa-regular-400.eot"),
		url("https://use.fontawesome.com/releases/v5.11.2/webfonts/fa-regular-400.eot?#iefix") format("embedded-opentype"),
		url("https://use.fontawesome.com/releases/v5.11.2/webfonts/fa-regular-400.woff2") format("woff2"),
		url("https://use.fontawesome.com/releases/v5.11.2/webfonts/fa-regular-400.woff") format("woff"),
		url("https://use.fontawesome.com/releases/v5.11.2/webfonts/fa-regular-400.ttf") format("truetype"),
		url("https://use.fontawesome.com/releases/v5.11.2/webfonts/fa-regular-400.svg#fontawesome") format("svg");
unicode-range: U+F004-F005,U+F007,U+F017,U+F022,U+F024,U+F02E,U+F03E,U+F044,U+F057-F059,U+F06E,U+F070,U+F075,U+F07B-F07C,U+F080,U+F086,U+F089,U+F094,U+F09D,U+F0A0,U+F0A4-F0A7,U+F0C5,U+F0C7-F0C8,U+F0E0,U+F0EB,U+F0F3,U+F0F8,U+F0FE,U+F111,U+F118-F11A,U+F11C,U+F133,U+F144,U+F146,U+F14A,U+F14D-F14E,U+F150-F152,U+F15B-F15C,U+F164-F165,U+F185-F186,U+F191-F192,U+F1AD,U+F1C1-F1C9,U+F1CD,U+F1D8,U+F1E3,U+F1EA,U+F1F6,U+F1F9,U+F20A,U+F247-F249,U+F24D,U+F254-F25B,U+F25D,U+F267,U+F271-F274,U+F279,U+F28B,U+F28D,U+F2B5-F2B6,U+F2B9,U+F2BB,U+F2BD,U+F2C1-F2C2,U+F2D0,U+F2D2,U+F2DC,U+F2ED,U+F328,U+F358-F35B,U+F3A5,U+F3D1,U+F410,U+F4AD;
}
</style>
<link rel="stylesheet" id="jetpack_css-css" href="https://c0.wp.com/p/jetpack/8.4.2/css/jetpack.css" type="text/css" media="all">
<script type="text/javascript">
/* <![CDATA[ */
var onepress_js_settings = {"onepress_disable_animation":"1","onepress_disable_sticky_header":"1","onepress_vertical_align_menu":"0","hero_animation":"flipInX","hero_speed":"5000000","is_home":"","gallery_enable":"1"};
var OnePress_Plus = {"ajax_url":"https:\/\/dbatools.io\/wp-admin\/admin-ajax.php","browser_warning":" Your browser does not support the video tag. I suggest you upgrade your browser."};
/* ]]> */
</script>
<script type="text/javascript" src="https://c0.wp.com/c/5.3.4/wp-includes/js/jquery/jquery.js"></script>
<script type="text/javascript" src="https://c0.wp.com/c/5.3.4/wp-includes/js/jquery/jquery-migrate.min.js"></script>
<script type="text/javascript">
/* <![CDATA[ */
var related_posts_js_options = {"post_heading":"h4"};
/* ]]> */
</script>
<script type="text/javascript" src="https://c0.wp.com/p/jetpack/8.4.2/_inc/build/related-posts/related-posts.min.js"></script>


<link rel="prev" title="new release &ndash; schwifty &ndash; all about SPNs" href="https://dbatools.io/schwifty/">
<link rel="next" title="new release &ndash; pieceoftoast" href="https://dbatools.io/pieceoftoast/">


<link rel="alternate" type="application/json+oembed" href="https://dbatools.io/wp-json/oembed/1.0/embed?url=https%3A%2F%2Fdbatools.io%2Fsnowball%2F">
<link rel="alternate" type="text/xml+oembed" href="https://dbatools.io/wp-json/oembed/1.0/embed?url=https%3A%2F%2Fdbatools.io%2Fsnowball%2F&amp;format=xml">

<link rel="dns-prefetch" href="//v0.wordpress.com">
<link rel="dns-prefetch" href="//widgets.wp.com">
<link rel="dns-prefetch" href="//s0.wp.com">
<link rel="dns-prefetch" href="//0.gravatar.com">
<link rel="dns-prefetch" href="//1.gravatar.com">
<link rel="dns-prefetch" href="//2.gravatar.com">
<link rel="dns-prefetch" href="//i0.wp.com">
<link rel="dns-prefetch" href="//i1.wp.com">
<link rel="dns-prefetch" href="//i2.wp.com">
<link rel="dns-prefetch" href="//c0.wp.com">
<link rel="dns-prefetch" href="//jetpack.wordpress.com">
<link rel="dns-prefetch" href="//s1.wp.com">
<link rel="dns-prefetch" href="//s2.wp.com">
<link rel="dns-prefetch" href="//public-api.wordpress.com">
<style type="text/css">img#wpstats{display:none}</style><link rel="canonical" href="https://dbatools.io/snowball/">
			<style type="text/css">
				/* If html does not have either class, do not show lazy loaded images. */
				html:not( .jetpack-lazy-images-js-enabled ):not( .js ) .jetpack-lazy-image {
					display: none;
				}
			</style>
			<script>
				document.documentElement.classList.add(
					'jetpack-lazy-images-js-enabled'
				);
			</script>
		

<meta property="og:type" content="article">
<meta property="og:title" content="new release &ndash; snowball &ndash; all about the restore">
<meta property="og:url" content="https://dbatools.io/snowball/">
<meta property="og:description" content="We&rsquo;re proud to announce that dbatools is making it as simple as we can to perform restores. Use Ola Hallengren&rsquo;s backups? We&rsquo;ve got you covered. Regular backups? No problem. Resto&hellip;">
<meta property="article:published_time" content="2017-02-23T15:55:52+00:00">
<meta property="article:modified_time" content="2019-09-13T08:12:05+00:00">
<meta property="og:site_name" content="dbatools">
<meta property="og:image" content="https://s0.wp.com/i/blank.jpg">
<meta property="og:locale" content="en_US">
<meta name="twitter:text:title" content="new release &ndash; snowball &ndash; all about the restore">
<meta name="twitter:image" content="https://dbatools.io/wp-content/uploads/2016/05/dbatools.png?fit=128%2C128&amp;ssl=1">
<meta name="twitter:card" content="summary">


<link rel="icon" href="https://dbatools.io/wp-content/uploads/2016/05/dbatools.png?fit=32%2C32&amp;ssl=1" sizes="32x32">
<link rel="icon" href="https://dbatools.io/wp-content/uploads/2016/05/dbatools.png?fit=128%2C128&amp;ssl=1" sizes="192x192">
<link rel="apple-touch-icon-precomposed" href="https://dbatools.io/wp-content/uploads/2016/05/dbatools.png?fit=128%2C128&amp;ssl=1">
<meta name="msapplication-TileImage" content="https://dbatools.io/wp-content/uploads/2016/05/dbatools.png?fit=128%2C128&amp;ssl=1">

<style class="wp-typography-print-styles" type="text/css">
body, body p { 
	font-style: normal;
	text-transform: none;
 } 
 .onepress-menu a { 
	font-style: normal;
	text-transform: none;
 } 
 body h1, body h2, body h3, body h4, body h5, body h6,
    body .section-title-area .section-title, body .section-title-area .section-subtitle, body .hero-content-style1 h2 { 
	font-style: normal;
	text-transform: none;
 }
</style>
			<style type="text/css" id="wp-custom-css">
				/*
Welcome to Custom CSS!

To learn how this works, see http://wp.me/PEmnE-Bt
*/			</style>
		</head>

<body class="post-template-default single single-post postid-3050 single-format-standard wp-custom-logo group-blog no-sticky-header">
<div id="page" class="hfeed site">
	<a class="skip-link screen-reader-text" href="#content">Skip to content</a>
            <header id="masthead" class="site-header" role="banner">
            <div class="container">
                <div class="site-branding">
                <div class="site-brand-inner has-logo-img no-desc"><div class="site-logo-div"><a href="https://dbatools.io/" class="custom-logo-link" rel="home"><img width="223" height="64" src="https://dbatools.io/wp-content/uploads/2016/05/dbatools-logo-1.png?fit=223%2C64&amp;ssl=1" class="custom-logo jetpack-lazy-image" alt="dbatools" data-lazy-src="https://dbatools.io/wp-content/uploads/2016/05/dbatools-logo-1.png?fit=223%2C64&amp;ssl=1&amp;is-pending-load=1" srcset="data:image/gif;base64 ,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7 "></a></div></div>                </div>
                

                <div class="header-right-wrapper">
                    <a href="#0" id="nav-toggle">Menu<span></span></a>
                    <nav id="site-navigation" class="main-navigation" role="navigation">
                        <ul class="onepress-menu">
                            <li id="menu-item-1452" class="menu-item menu-item-type-post_type menu-item-object-page menu-item-has-children menu-item-1452"><a href="https://dbatools.io/download/">&#11015; download</a>
<ul class="sub-menu">
	<li id="menu-item-1451" class="menu-item menu-item-type-post_type menu-item-object-page menu-item-1451"><a href="https://dbatools.io/getting-started/">get started</a></li>
</ul>
</li>
<li id="menu-item-1453" class="menu-item menu-item-type-post_type menu-item-object-page menu-item-1453"><a href="https://dbatools.io/commands/">&#128640; commands</a></li>
<li id="menu-item-8268" class="menu-item menu-item-type-custom menu-item-object-custom menu-item-has-children menu-item-8268"><a href="https://dbatools.io/docs">&#128209; docs</a>
<ul class="sub-menu">
	<li id="menu-item-8270" class="menu-item menu-item-type-custom menu-item-object-custom menu-item-8270"><a href="https://dbatools.io/blog">blog</a></li>
</ul>
</li>
<li id="menu-item-1456" class="menu-item menu-item-type-post_type menu-item-object-page menu-item-has-children menu-item-1456"><a href="https://dbatools.io/team/">&#129395; team</a>
<ul class="sub-menu">
	<li id="menu-item-3315" class="menu-item menu-item-type-custom menu-item-object-custom menu-item-3315"><a href="https://dbatools.io/contributing">contribute</a></li>
	<li id="menu-item-3123" class="menu-item menu-item-type-post_type menu-item-object-page menu-item-3123"><a href="https://dbatools.io/contact/">contact</a></li>
	<li id="menu-item-3116" class="menu-item menu-item-type-custom menu-item-object-custom menu-item-has-children menu-item-3116"><a href="https://dbatools.io/git">find us</a>
	<ul class="sub-menu">
		<li id="menu-item-4663" class="menu-item menu-item-type-custom menu-item-object-custom menu-item-4663"><a href="https://dbatools.io/slack">slack</a></li>
		<li id="menu-item-4662" class="menu-item menu-item-type-custom menu-item-object-custom menu-item-4662"><a href="https://dbatools.io/github">github</a></li>
		<li id="menu-item-4664" class="menu-item menu-item-type-custom menu-item-object-custom menu-item-4664"><a href="https://dbatools.io/twitter">twitter</a></li>
		<li id="menu-item-4665" class="menu-item menu-item-type-custom menu-item-object-custom menu-item-4665"><a href="https://dbatools.io/youtube">youtube</a></li>
		<li id="menu-item-4666" class="menu-item menu-item-type-custom menu-item-object-custom menu-item-4666"><a href="https://dbatools.io/linkedin">linkedin</a></li>
	</ul>
</li>
</ul>
</li>
<li id="menu-item-3340" class="menu-item menu-item-type-custom menu-item-object-custom menu-item-3340"><a href="https://dbatools.io/subscribe/">&#128140; subscribe</a></li>
<li id="menu-item-6587" class="menu-item menu-item-type-custom menu-item-object-custom menu-item-6587"><a href="https://dbatools.io/builds">&#10004; build ref</a></li>
<li id="menu-item-9781" class="menu-item menu-item-type-custom menu-item-object-custom menu-item-9781"><a href="https://dbatools.io/sponsorship/">&#128149; sponsor</a></li>
<li id="menu-item-9994" class="menu-item menu-item-type-custom menu-item-object-custom menu-item-9994"><a href="https://dbatools.io/book">&#128216; book</a></li>
                        </ul>
                    </nav>
                    
                </div>
            </div>
        </header>
        
	<div id="content" class="site-content">

		
		<div id="content-inside" class="container right-sidebar">
			<div id="primary" class="content-area">
				<main id="main" class="site-main" role="main">

				
					
<article id="post-3050" class="post-3050 post type-post status-publish format-standard has-post-thumbnail hentry category-announcements tag-backuprestore tag-disasterrecovery tag-dr">
	<header class="entry-header">
		<h1 class="entry-title">new release &ndash; snowball &ndash; all about the restore</h1>
		<div class="entry-meta">
			<span class="posted-on">Posted on <a href="https://dbatools.io/snowball/" rel="bookmark"><time class="entry-date published" datetime="2017-02-23T15:55:52+00:00">February 23, 2017</time><time class="updated hide" datetime="2019-09-13T08:12:05+00:00">September 13, 2019</time></a></span><span class="byline"> by <span class="author vcard"><a class="url fn n" href="https://dbatools.io/author/stuart/">Stuart Moore</a></span></span>		</div>
	</header>

	<div class="entry-content">
		<p>Just to confuse people, it&rsquo;s not Chrissy or Drew this time. My name&rsquo;s Stuart, and I&rsquo;ve got a new dbatools release to tell you about; snowball.</p>
<h2>This release is all about restores</h2>
<p>DBAs spend a lot of time making sure backups work. Or at least they should, and if they aren&rsquo;t then putting their spare time to fixing up their CV is probably a good plan.</p>
<p>So we&rsquo;ve got terabytes of SQL backups stashed away on disk. Brilliant, we&rsquo;re bombproof then aren&rsquo;t we? Well, are you sure those backups can be restored?</p>
<p>Part of a good backup strategy is proactively testing your backups by restoring. There are many benefits to doing this:</p>
<ul>
<li><strong>Practice</strong> &ndash; You don&rsquo;t want to be restoring a complex production database for the first time when the excrement is hitting the fan. Your restore procedures should be as simple as possible, and you should be able to do them correctly without thinking.</li>
<li><strong>Performance</strong> &ndash; Just how long does it take to restore your production system? You can bet your boss would like to know</li>
<li><strong>Trust</strong> &ndash; You need to know you can trust your backups. Just because they&rsquo;ve been written to disk doesn&rsquo;t mean everything&rsquo;s OK. Corruption still happens unfortunately. Did you spot it before it became a problem?</li>
<li><strong>Confidence</strong> &ndash; You need to know you&rsquo;ve got all the backups you think you do. Sure someone&rsquo;s not removing transaction log backups before you&rsquo;re finished with them? A prod outage isn&rsquo;t the time to find out you need something from tape and the guy with the safe keys is tucked up in bed.</li>
</ul>
<h5>Then</h5>
<p>T-SQL didn&rsquo;t make automating restores easy! Each databases restore had to be hand crafted to make sure that you could cope with files in different locations, differing backup locations, and all the other individual quirks we know and love. And if you&rsquo;d lost your production msdb then it was a world of pain trying to piece together restore files.</p>
<p>Just imagine the pain if you&rsquo;re running a weekly full, night differential and 15 minute log backups. Trying to work out what you need is a real pain.</p>
<h5>Not so long ago</h5>
<p>PowerShell started making that a lot easier. By combining it&rsquo;s power in scanning the filesystem and talking to Sql Server it became easier to work out which files you needed and then queue them up for restore. But it still too quite a bit of patience to get it all working smoothly</p>
<h5>Now</h5>
<p>We&rsquo;re proud to announce that dbatools is making it as simple as we can to do restores.</p>
<h2>New Command &ndash; Restore-DbaDatabase</h2>
<p>Restore-DbaDatabase ties together a lot of new features and is probably going to be your main interface with the new restore functions.</p>
<h3>Laying the groundwork</h3>
<p>For these examples we&rsquo;ll be using the following backup files:</p>
<p><img src="https://dbatools.io/wp-content/uploads/2017/02/RestoreWork-1.png?w=800&amp;ssl=1" alt="restorework" data-recalc-dims="1" data-lazy-src="https://dbatools.io/wp-content/uploads/2017/02/RestoreWork-1.png?w=800&amp;is-pending-load=1#038;ssl=1" srcset="data:image/gif;base64 ,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7 " class=" jetpack-lazy-image"><noscript><img src="https://dbatools.io/wp-content/uploads/2017/02/RestoreWork-1.png?w=800&amp;ssl=1" alt="restorework" data-recalc-dims="1"></noscript></p>
<p>This is a mix of Full, Differential and Log Backups.</p>
<h3>Getting Started</h3>
<p>At it&rsquo;s simplest we can do the following:</p>
<pre class="lang:ps decode:true ">Restore-DbaDatabase -SqlServer localhost\sqlexpress2016 -Path C:\dbatools\backups</pre>
<p>This will <strong>scan</strong> all of the files in the folder C:\dbatools\backups and restore them onto the SQL Server instance localhost\sqlexpress2016, up to the most recent record in the backups.</p>
<p><img src="https://dbatools.io/wp-content/uploads/2017/02/RestoreWork-2-1.png?w=800&amp;ssl=1" alt="restorework" data-recalc-dims="1" data-lazy-src="https://dbatools.io/wp-content/uploads/2017/02/RestoreWork-2-1.png?w=800&amp;is-pending-load=1#038;ssl=1" srcset="data:image/gif;base64 ,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7 " class=" jetpack-lazy-image"><noscript><img src="https://dbatools.io/wp-content/uploads/2017/02/RestoreWork-2-1.png?w=800&amp;ssl=1" alt="restorework" data-recalc-dims="1"></noscript></p>
<h5>When we say scan, we mean it will do the following:</h5>
<ul>
<li>All the files in that folder will be checked to see if they are SQL Server backups</li>
<li>The header information from each file will be read</li>
<li>The files will then be filtered down to a set that meets your requirements. In this example we will restore your database to the latest point in time contained in those backups. This means we will find:</li>
<li>The most recent full backup in those files.</li>
<li>Any differential backups taken since that full backup</li>
<li>All Transaction backups taken since the last differential backup</li>
<li>Then we check that we have an unbroken chain of LSNs to ensure we can restore your database</li>
<li>Then we check that the versions of your backup and target SQL instance are compatible</li>
<li>Once we&rsquo;re good to go we perform the restore, safe in the knowlege that it&rsquo;ll work</li>
<li>Then we&rsquo;ll restore it for you</li>
</ul>
<p>With our example backups, it will have restored RestoreDemo_Full5.bak, RestoreDemo_Diff7 and RestoreDemo_Log8.trn</p>
<p>As you can see, we also return a rich object with details about the restore. For the rest of the examples I&rsquo;ll be hiding the output by storing it a variable, just to make the screenshots more readable.</p>
<h3>Specifying the destination directories</h3>
<p><strong>By default, Restore-DbaDatabase will restore to the default data and log directories</strong>, but maybe you want to move the data files around when you restore the database due to smaller drives:</p>
<pre class="lang:ps decode:true ">Restore-DbaDatabase -SqlServer localhost\sqlexpress2016 -Path C:\dbatools\backups -DestinationDataDirectory c:\dbatools\RestoreLocation\</pre>
<p><img src="https://dbatools.io/wp-content/uploads/2017/02/RestoreWork-3-1.png?w=800&amp;ssl=1" alt="restorework3" data-recalc-dims="1" data-lazy-src="https://dbatools.io/wp-content/uploads/2017/02/RestoreWork-3-1.png?w=800&amp;is-pending-load=1#038;ssl=1" srcset="data:image/gif;base64 ,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7 " class=" jetpack-lazy-image"><noscript><img src="https://dbatools.io/wp-content/uploads/2017/02/RestoreWork-3-1.png?w=800&amp;ssl=1" alt="restorework3" data-recalc-dims="1"></noscript></p>
<p>This time, all database files (Log, Full Text, Data, etc) will be restored into the folder c:\dbatools\RestoreLocation folder</p>
<p>Or perhaps you want to seperate logs and data files out, got you covered:</p>
<pre class="lang:ps decode:true ">Restore-DbaDatabase -SqlServer localhost\sqlexpress2016 -Path C:\dbatools\backups -DestinationDataDirectory c:\dbatools\RestoreLocation -DestinationLogDirectory c:\dbatools\RestoreLogsLocation</pre>
<p>All your data files end up in c:\dbatools\RestoreLocation and all your log files go into c:\dbatools\RestoreLogsLocation. Nice and easy</p>
<p><img src="https://dbatools.io/wp-content/uploads/2017/02/RestoreWork-4-1.png?w=800&amp;ssl=1" alt="restorework4" data-recalc-dims="1" data-lazy-src="https://dbatools.io/wp-content/uploads/2017/02/RestoreWork-4-1.png?w=800&amp;is-pending-load=1#038;ssl=1" srcset="data:image/gif;base64 ,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7 " class=" jetpack-lazy-image"><noscript><img src="https://dbatools.io/wp-content/uploads/2017/02/RestoreWork-4-1.png?w=800&amp;ssl=1" alt="restorework4" data-recalc-dims="1"></noscript></p>
<p>And if you want your restores to return to their original destinations, they use the ReuseSourceFolderStructure switch:</p>
<pre class="lang:ps decode:true ">Restore-DbaDatabase -SqlServer localhost\sqlexpress2016 -Path C:\dbatools\backups -ReuseSourceFolderStructure</pre>
<p>If you really want to go to town with moving files around during the restore, the we offer teh FileMapping parameter. To use this, you have to pass in a HashTable with a key/value pair for every file in the database you&rsquo;re restoring. The key is the logical name of your data file, and the value is the full path of where you want the file to be placed. For example:</p>
<pre class="lang:ps decode:true ">$FileStructure = @{
    'DataFile1'='c:\datafiles\datafile1.mdf'
    'DataFile2'='d:\datafiles\datafile2.mdf'
    'db_log'='e:\logfiles\db_log.ldf'
}
Restore-DbaDatabase -SqlServer localhost\sqlexpress2016 -Path C:\dbatools\backups\FullBackup.bak -FileMapping $FileStructure</pre>
<h3>Renaming during restore</h3>
<p>You can also rename the database during restore using the DatabaseName parameter:</p>
<pre class="lang:ps decode:true ">Restore-DbaDatabase -SqlServer localhost\sqlexpress2016 -Path C:\dbatools\backups -DestinationDataDirectory c:\dbatools\DestinationDirectory -DestinationLogDirectory c:\dbatools\RestoreLogsLocation -DatabaseName RestoredDatabase</pre>
<p>And there&rsquo;s nothing to stop you combining a file move, and a Database rename:</p>
<pre class="lang:ps decode:true ">$FileStructure = @{
    'DataFile1'='c:\datafiles\datafile1.mdf'
    'DataFile2'='d:\datafiles\datafile2.mdf'
    'db_log'='e:\logfiles\db_log.ldf'
}
Restore-DbaDatabase -SqlServer localhost\sqlexpress2016 -Path C:\dbatools\backups\FullBackup.bak -FileMapping $FileStructure -DatabaseName RestoredDatabase</pre>
<h3>Restoring to specific point in time</h3>
<p>What if you don&rsquo;t want to restore to the latest point in time? Then you can use the RestoreTime parameter to say when you want to restore to. In our example I want to restore to just before the full backup RestoreDemo_Full5.bak</p>
<pre class="lang:ps decode:true ">$RestoreTime = Get-Date("01/01/2017 11:10")
Restore-DbaDatabase -SqlServer localhost\sqlexpress2016 -Path C:\dbatools\backups -RestoreTime $RestoreTime</pre>
<p>Now our file scan will work out which files it needs to use to perform this restore. By using the -Verbose switch we can see which ones it&rsquo;s picked:</p>
<p><img src="https://dbatools.io/wp-content/uploads/2017/02/RestoreWork-5-1.png?w=800&amp;ssl=1" alt="restorework4" data-recalc-dims="1" data-lazy-src="https://dbatools.io/wp-content/uploads/2017/02/RestoreWork-5-1.png?w=800&amp;is-pending-load=1#038;ssl=1" srcset="data:image/gif;base64 ,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7 " class=" jetpack-lazy-image"><noscript><img src="https://dbatools.io/wp-content/uploads/2017/02/RestoreWork-5-1.png?w=800&amp;ssl=1" alt="restorework4" data-recalc-dims="1"></noscript></p>
<p>We can see it&rsquo;s restored RestoreDemo_Full1.bak, then RestoreDemo_Diff4, and finally used RestoreDemo_log6.trn to roll everything forward to the correct time.</p>
<h3>Replaying the workload to remote lab</h3>
<p>Next up, perhaps your developers want to investigate some problems they&rsquo;ve been seeing on production. They&rsquo;d love to have a copy of production on a test server, but from 2 hours ago so they can replay the workload. How about this:</p>
<pre class="lang:ps decode:true ">Restore-DbaDatabase -SqlServer TestDbServer -Path \\Server1\backups\ProdDb -DestinationDataDirectory D:\data -RestoreTime (Get-Date).AddHours(-2)</pre>
<p>What happens if the devs ask you to rereset the database? That&rsquo;s where the -WithReplace switch comes into play</p>
<pre class="lang:ps decode:true ">Restore-DbaDatabase -SqlServer TestDbServer -Path \\Server1\backups\ProdDb -DestinationDataDirectory D:\data -RestoreTime (Get-Date).AddHours(-2) -WithReplace</pre>
<p>Which will overwrite the existing database for you. Be careful with this switch, it will do exactly what you tell it to! And we&rsquo;ll remove all the users from the database, so that safety net isn&rsquo;t there</p>
<h3>Scripting out to file</h3>
<p>While helping your colleagues you&rsquo;ll have noticed that there is a little bit of time taken to process all the backups. You hear through the grapevine that this rollback is going to have to be done a couple of times while they work out what&rsquo;s wrong. So how about we generate the T-SQL scripts ahead of time, then you can just rerun those every time. Hey, you could even give them to the Devs to run!</p>
<pre class="lang:ps decode:true ">Restore-DbaDatabase -SqlServer TestDbServer -Path \\Server1\backups\ProdDb -DestinationDataDirectory D:\data -RestoreTime (Get-Date).AddHours(-2) -WithReplace -OutputScriptOnly</pre>
<p>This will generate all the T-Sql statements required to perform the requested action, but it won&rsquo;t restore the database. By using the -WithReplace switch, the function will return the T-SQL statements with the correct REPLACE sections, it will also script out the file moves for you. For example, using our example backups:</p>
<pre class="lang:ps decode:true ">$RestoreTime = Get-Date("09/02/2017 11:10")
Restore-DbaDatabase -SqlServer localhost\sqlexpress2016 -Path C:\dbatools\backups -RestoreTime $RestoreTime -DestinationDataDirectory C:\dbatools\DestinationDirectory\ -WithReplace -OutputScriptOnly</pre>
<p>produces the following T-SQL scripts:</p>
<pre class="theme:vs2012 lang:tsql decode:true ">RESTORE DATABASE [RestoreDemo] FROM DISK = N'C:\dbatools\backups\RestoreDemo_Full1.bak' WITH MOVE N'RestoreDemo' TO N'C:\dbatools\DestinationDirectory\\RestoreDemo.mdf', MOVE N'RestoreDemo_log' TO N'C:\dbatools\DestinationDirectory\\RestoreDemo.ldf', NORECOVERY, NOUNLOAD, REPLACE, STATS = 1, STOPAT = N'02/09/2017 11:10:00'
RESTORE DATABASE [RestoreDemo] FROM DISK = N'C:\dbatools\backups\RestoreDemo_Diff4.bak' WITH MOVE N'RestoreDemo' TO N'C:\dbatools\DestinationDirectory\\RestoreDemo.mdf', MOVE N'RestoreDemo_log' TO N'C:\dbatools\DestinationDirectory\\RestoreDemo.ldf', NORECOVERY, NOUNLOAD, REPLACE, STATS = 1, STOPAT = N'02/09/2017 11:10:00'
RESTORE LOG [RestoreDemo] FROM DISK = N'C:\dbatools\backups\RestoreDemo_Log6.trn' WITH MOVE N'RestoreDemo' TO N'C:\dbatools\DestinationDirectory\\RestoreDemo.mdf', MOVE N'RestoreDemo_log' TO N'C:\dbatools\DestinationDirectory\\RestoreDemo.ldf', NOUNLOAD, STATS = 1, STOPAT = N'02/09/2017 11:10:00'</pre>
<p>Stash them away somewhere safe for when you need them. Or if you want to multi task then</p>
<pre class="lang:ps decode:true ">$Restore = Restore-DbaDatabase -SqlServer TestDbServer -Path \\Server1\backups\ProdDb -DestinationDataDirectory D:\data -RestoreTime (Get-Date).AddHours(-2) -WithReplace -OutputScript
$Restore | Select-Object -Property Script</pre>
<p>Will perform the restore and generate the T-Sql for you. Twice the productivity for only a few characters more.</p>
<p>All the examples above assume you&rsquo;ve a single folder containting all your backups. If you have another way of splitting your backups, then you can pass in multiple folders to the path statement:</p>
<pre class="lang:ps decode:true ">Restore-DbaDatabase -SqlServer MyRestoreSvr\Instance -Path e:\FullBackups\Database1, f:\LogBackups\Database1</pre>
<h3>Yes, we do support Ola Hallengren&rsquo;s Maintenance Solution!</h3>
<p>If you&rsquo;re running Ola Hallengren&rsquo;s maintenance solutions, the we&rsquo;ve got that covered as well. Set your path to the top of you backup folder, and we&rsquo;ll do the rest.</p>
<pre class="lang:ps decode:true ">Restore-DbaDatabase -SqlServer MyRestoreSvr\Instance -Path \\Server1\backups\ProdDb -MaintenanceSolutionBackup</pre>
<p>This method has the benefit of being faster as we know which files are which, so can shortcut the reading of files before doing your restore.</p>
<h3>Using xp_dirtree</h3>
<p>Maybe you don&rsquo;t have access to the backup files, but your SQL Server instance does. In that case we offer xp_dirtree functionality to process the files.</p>
<pre class="lang:ps decode:true ">Restore-DbaDatabase -SqlServer MyRestoreSvr\Instance -Path \\Server1\backups\ProdDb -XpDirTree</pre>
<p>You will need to have sysadmin permissions on the SQL instance to use the underlying xp_dirtree stored procedure</p>
<h3>Using the PowerShell pipeline</h3>
<p>And like all good PowerShell function we take input from the pipeline, so if you want to pipe in files we&rsquo;ll take them!:</p>
<pre class="lang:ps decode:true ">Get-ChildItem c:\backups | Where-Object {$_.name -like 'ProdDb1*'} | Restore-DbaDatabase -SqlServer MyRestoreSvr\Instance</pre>
<p>And <strong>coming next week</strong> we&rsquo;ll be able to take pipeline from our own commands! Not sure where a database is backed up? We will be able to use Get-DbaDbBackupHistory to answer that.</p>
<pre class="lang:ps decode:true ">Get-DbaDbBackupHistory -SqlServer ProdSrv1 -Databases Finance1 | Restore-DbaDatabase -SqlServer TestSrv1</pre>
<p>This will query ProdSrv1 to get the backup history for the Finance1 database using Get-DbaDbBackupHistory, this will then be piped to the Restore-DbaDatabase function which will use this information to restore the Finance1 database onto TestSrv1. And you will also be able to apply all the normal Restore-DbaDatabase goodness:</p>
<pre class="lang:ps decode:true ">Get-DbaDbBackupHistory -SqlServer ProdSrv1 -Databases Finance1 | Restore-DbaDatabase -SqlServer TestSrv1 -DestinationDataDirectory d:\DataDump -RestoreTime (Get-date).AddHours(-3)</pre>
<h3>Restore-DbaDatabase parameters</h3>
<p>Up till now, all our examples have assumed you&rsquo;re only restoring a single database. But Restore-DbaDatabase will handle more that one backup at time.</p>
<p>Only certain parameters will work with multiple databases, as these are ones that can be applied to ALL databases passed in. Those parameters are:</p>
<ul>
<li>DestinationDirectory</li>
<li>DestinationLogDirectory</li>
<li>WithReplace</li>
<li>Server</li>
<li>Credential</li>
<li>RestoreTime</li>
<li>OutputScript</li>
<li>OutputScriptOnly</li>
<li>VerfiyOnly</li>
</ul>
<p>With our last example, this means we will be able to do:</p>
<pre class="lang:ps decode:true ">Get-DbaDbBackupHistory -SqlServer ProdSrv1 -Databases Finance1, HR, CRM | Restore-DbaDatabase -SqlServer TestSrv1 -DestinationDataDirectory d:\DataDump -RestoreTime (Get-date).AddHours(-3)</pre>
<p>And restore all 3 database from ProdSrv1 onto TestSrv1 in one fell swoop! This feature is coming this week or next.</p>
<h3>And, just one last thing</h3>
<p>So we&rsquo;ve made it super easy to restore databases. But don&rsquo;t think we&rsquo;ve forgotten that you have to create the backups first. Snowball also marks the first appearance of our new backup command Backup-DbaDatabase.</p>
<p>You want to perform a full backup every database on an instance:</p>
<pre class="lang:ps decode:true ">Get-DbaDatabase -SqlInstance Server1 | Backup-DbaDatabase -Type Full -BackupDirectory \\Server2\share\DbBackups</pre>
<p>and you&rsquo;re done!</p>
<p>This is the first release of this command, so keep checking back as we add more features. So please let us know what you&rsquo;d like to see adding in future releases</p>
<h2>Going forward</h2>
<p>This is the first release of this functionality, and we&rsquo;re looking at extending it&rsquo;s capabilities over time. So we&rsquo;d love to here from you with your ideas for improvements. I&rsquo;d also really like to hear about any unusual or different ways you can think of using this functionality.</p>
<p>And please, if you come across something that doesn&rsquo;t work, or doesn&rsquo;t make sense. Please come and talk to us. We hang out over on Slack at <a href="https://dbatools.io/slack">sqlcommunity.slack.com</a> or you can report issues over at our Github repo at <a href="https://github.com/dataplat/dbatools">github.com/dataplat/dbatools</a></p>
<p>- Stuart</p>

<div id="jp-relatedposts" class="jp-relatedposts">
	<h3 class="jp-relatedposts-headline"><em>Related</em></h3>
</div>			</div>

	<footer class="entry-footer">
		<span class="tags-links">Tagged <a href="https://dbatools.io/tag/backuprestore/" rel="tag">backuprestore</a>, <a href="https://dbatools.io/tag/disasterrecovery/" rel="tag">disasterrecovery</a>, <a href="https://dbatools.io/tag/dr/" rel="tag">dr</a></span>	</footer>
</article>


					
<div id="comments" class="comments-area">

	
			<h3 class="comments-title">
			10 thoughts on &ldquo;<span>new release &ndash; snowball &ndash; all about the restore</span>&rdquo;		</h3>

		
		<ol class="comment-list">
			    <li class="pingback even thread-even depth-1" id="comment-232">
        <p>Pingback: <a href="http://www.centinosystems.com/blog/sql/using-dbatools-for-automated-restore-and-checkdb/" rel="external nofollow ugc" class="url">Using dbatools for automated restore and CHECKDB - Centino Systems Blog</a> </p>
    </li>
    <li class="comment odd alt thread-odd thread-alt depth-1" id="li-comment-254">
        <article id="comment-254" class="comment clearfix">

            <img alt src="https://secure.gravatar.com/avatar/e3bf280e6256cc1fd4cefbdff4244ccd?s=60&amp;d=mm&amp;r=g" class="avatar avatar-60 photo jetpack-lazy-image" height="60" width="60" data-lazy-srcset="https://secure.gravatar.com/avatar/e3bf280e6256cc1fd4cefbdff4244ccd?s=120&amp;d=mm&amp;r=g 2x" data-lazy-src="https://secure.gravatar.com/avatar/e3bf280e6256cc1fd4cefbdff4244ccd?s=60&amp;is-pending-load=1#038;d=mm&amp;r=g" srcset="data:image/gif;base64 ,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7 "><noscript><img alt="" src="https://secure.gravatar.com/avatar/e3bf280e6256cc1fd4cefbdff4244ccd?s=60&amp;d=mm&amp;r=g" srcset="https://secure.gravatar.com/avatar/e3bf280e6256cc1fd4cefbdff4244ccd?s=120&amp;d=mm&amp;r=g 2x" class="avatar avatar-60 photo" height="60" width="60"></noscript>
            <div class="comment-wrapper">

                <header class="comment-meta comment-author vcard">
                    <cite><b class="fn"><a href="https://www.linkedin.com/in/anilcs/" rel="external nofollow ugc" class="url">anil</a></b> </cite><a class="comment-time" href="https://dbatools.io/snowball/#comment-254"><time datetime="2017-03-07T17:26:39+00:00">March 7, 2017</time></a><a rel="nofollow" class="comment-reply-link" href="https://dbatools.io/snowball/?replytocom=254#respond" data-commentid="254" data-postid="3050" data-belowelement="comment-254" data-respondelement="respond" aria-label="Reply to anil">Reply</a>                </header>

                
                <div class="comment-content entry-content">
                    <p>Awesome work &ndash; Very impressive and helpful !!</p>
                                    </div>

            </div>

        </article>
    </li>
    <li class="comment even thread-even depth-1" id="li-comment-487">
        <article id="comment-487" class="comment clearfix">

            <img alt src="https://secure.gravatar.com/avatar/61f9ab0149fd5030001df1a8c884324c?s=60&amp;d=mm&amp;r=g" class="avatar avatar-60 photo jetpack-lazy-image" height="60" width="60" data-lazy-srcset="https://secure.gravatar.com/avatar/61f9ab0149fd5030001df1a8c884324c?s=120&amp;d=mm&amp;r=g 2x" data-lazy-src="https://secure.gravatar.com/avatar/61f9ab0149fd5030001df1a8c884324c?s=60&amp;is-pending-load=1#038;d=mm&amp;r=g" srcset="data:image/gif;base64 ,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7 "><noscript><img alt="" src="https://secure.gravatar.com/avatar/61f9ab0149fd5030001df1a8c884324c?s=60&amp;d=mm&amp;r=g" srcset="https://secure.gravatar.com/avatar/61f9ab0149fd5030001df1a8c884324c?s=120&amp;d=mm&amp;r=g 2x" class="avatar avatar-60 photo" height="60" width="60"></noscript>
            <div class="comment-wrapper">

                <header class="comment-meta comment-author vcard">
                    <cite><b class="fn">Gordon</b> </cite><a class="comment-time" href="https://dbatools.io/snowball/#comment-487"><time datetime="2017-04-11T13:24:23+00:00">April 11, 2017</time></a><a rel="nofollow" class="comment-reply-link" href="https://dbatools.io/snowball/?replytocom=487#respond" data-commentid="487" data-postid="3050" data-belowelement="comment-487" data-respondelement="respond" aria-label="Reply to Gordon">Reply</a>                </header>

                
                <div class="comment-content entry-content">
                    <p>Great work.  Unfortunately, those of us who use a 3rd party backup tool (we use Litespeed in our shop) cannot use the Backup/Restore bits of dbatools.  But I do use it for so many other things!!</p>
                                    </div>

            </div>

        </article>
    <ul class="children">
    <li class="comment byuser comment-author-admin odd alt depth-2" id="li-comment-488">
        <article id="comment-488" class="comment clearfix">

            <img alt src="https://secure.gravatar.com/avatar/527b83e9dfbeab5aeeab7a03c5f1ba7c?s=60&amp;d=mm&amp;r=g" class="avatar avatar-60 photo jetpack-lazy-image" height="60" width="60" data-lazy-srcset="https://secure.gravatar.com/avatar/527b83e9dfbeab5aeeab7a03c5f1ba7c?s=120&amp;d=mm&amp;r=g 2x" data-lazy-src="https://secure.gravatar.com/avatar/527b83e9dfbeab5aeeab7a03c5f1ba7c?s=60&amp;is-pending-load=1#038;d=mm&amp;r=g" srcset="data:image/gif;base64 ,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7 "><noscript><img alt="" src="https://secure.gravatar.com/avatar/527b83e9dfbeab5aeeab7a03c5f1ba7c?s=60&amp;d=mm&amp;r=g" srcset="https://secure.gravatar.com/avatar/527b83e9dfbeab5aeeab7a03c5f1ba7c?s=120&amp;d=mm&amp;r=g 2x" class="avatar avatar-60 photo" height="60" width="60"></noscript>
            <div class="comment-wrapper">

                <header class="comment-meta comment-author vcard">
                    <cite><b class="fn"><a href="http://blog.netnerds.net" rel="external nofollow ugc" class="url">Chrissy LeMaire</a></b> </cite><a class="comment-time" href="https://dbatools.io/snowball/#comment-488"><time datetime="2017-04-11T13:55:23+00:00">April 11, 2017</time></a><a rel="nofollow" class="comment-reply-link" href="https://dbatools.io/snowball/?replytocom=488#respond" data-commentid="488" data-postid="3050" data-belowelement="comment-488" data-respondelement="respond" aria-label="Reply to Chrissy LeMaire">Reply</a>                </header>

                
                <div class="comment-content entry-content">
                    <p>Hey Gordon, Thanks so much for the note &#128512; We&rsquo;re so happy that you enjoy dbatools. I&rsquo;ve asked Stuart to investigate support for 3rd parties! <a href="https://github.com/dataplat/dbatools/issues/1035" rel="nofollow ugc">https://github.com/dataplat/dbatools/issues/1035</a></p>
                                    </div>

            </div>

        </article>
    </li>
</ul>
</li>
    <li class="comment even thread-odd thread-alt depth-1" id="li-comment-11191">
        <article id="comment-11191" class="comment clearfix">

            <img alt src="https://secure.gravatar.com/avatar/7d1b1dd7a30a82174477732c05d4c9cd?s=60&amp;d=mm&amp;r=g" class="avatar avatar-60 photo jetpack-lazy-image" height="60" width="60" data-lazy-srcset="https://secure.gravatar.com/avatar/7d1b1dd7a30a82174477732c05d4c9cd?s=120&amp;d=mm&amp;r=g 2x" data-lazy-src="https://secure.gravatar.com/avatar/7d1b1dd7a30a82174477732c05d4c9cd?s=60&amp;is-pending-load=1#038;d=mm&amp;r=g" srcset="data:image/gif;base64 ,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7 "><noscript><img alt="" src="https://secure.gravatar.com/avatar/7d1b1dd7a30a82174477732c05d4c9cd?s=60&amp;d=mm&amp;r=g" srcset="https://secure.gravatar.com/avatar/7d1b1dd7a30a82174477732c05d4c9cd?s=120&amp;d=mm&amp;r=g 2x" class="avatar avatar-60 photo" height="60" width="60"></noscript>
            <div class="comment-wrapper">

                <header class="comment-meta comment-author vcard">
                    <cite><b class="fn">Mulham</b> </cite><a class="comment-time" href="https://dbatools.io/snowball/#comment-11191"><time datetime="2018-08-13T13:38:47+00:00">August 13, 2018</time></a><a rel="nofollow" class="comment-reply-link" href="https://dbatools.io/snowball/?replytocom=11191#respond" data-commentid="11191" data-postid="3050" data-belowelement="comment-11191" data-respondelement="respond" aria-label="Reply to Mulham">Reply</a>                </header>

                
                <div class="comment-content entry-content">
                    <p>Thanks for this great work. Is there any way of making -filemapping  switch dynamically populated  based on running this query: select name, filename from sysfiles ? I was trying something like this without luck.</p>
<p>$query=invoke-sqlcmd -ServerInstance $instanceName -Database $Databasename -Query &ldquo;select name,filename  from sysfiles&rdquo;<br>
$Finalquery=$query| %{&ldquo;&lsquo;&rdquo;+'{0}&rdquo; =&rdquo;{1}&rdquo;{2}{3}&rsquo; -f $_[0],$_[1],$_[2],$_[3] }<br>
$FileMapping =@{}</p>
                                    </div>

            </div>

        </article>
    </li>
    <li class="comment odd alt thread-even depth-1" id="li-comment-11302">
        <article id="comment-11302" class="comment clearfix">

            <img alt src="https://secure.gravatar.com/avatar/6a5db5bfa49ec1fc36300eb12470a78d?s=60&amp;d=mm&amp;r=g" class="avatar avatar-60 photo jetpack-lazy-image" height="60" width="60" data-lazy-srcset="https://secure.gravatar.com/avatar/6a5db5bfa49ec1fc36300eb12470a78d?s=120&amp;d=mm&amp;r=g 2x" data-lazy-src="https://secure.gravatar.com/avatar/6a5db5bfa49ec1fc36300eb12470a78d?s=60&amp;is-pending-load=1#038;d=mm&amp;r=g" srcset="data:image/gif;base64 ,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7 "><noscript><img alt="" src="https://secure.gravatar.com/avatar/6a5db5bfa49ec1fc36300eb12470a78d?s=60&amp;d=mm&amp;r=g" srcset="https://secure.gravatar.com/avatar/6a5db5bfa49ec1fc36300eb12470a78d?s=120&amp;d=mm&amp;r=g 2x" class="avatar avatar-60 photo" height="60" width="60"></noscript>
            <div class="comment-wrapper">

                <header class="comment-meta comment-author vcard">
                    <cite><b class="fn">Greg N</b> </cite><a class="comment-time" href="https://dbatools.io/snowball/#comment-11302"><time datetime="2018-08-16T23:46:51+00:00">August 16, 2018</time></a><a rel="nofollow" class="comment-reply-link" href="https://dbatools.io/snowball/?replytocom=11302#respond" data-commentid="11302" data-postid="3050" data-belowelement="comment-11302" data-respondelement="respond" aria-label="Reply to Greg N">Reply</a>                </header>

                
                <div class="comment-content entry-content">
                    <p>Thank you Thank you Thank you<br>
One line command I just restored 32 databases with Ola Hallengren backups and 3 days of logs.<br>
Many hours of work made easy.</p>
<p>Where do I send the chocolates?</p>
                                    </div>

            </div>

        </article>
    </li>
    <li class="comment even thread-odd thread-alt depth-1" id="li-comment-19453">
        <article id="comment-19453" class="comment clearfix">

            <img alt src="https://secure.gravatar.com/avatar/243a2895c04736446dec228a0c4bc9ef?s=60&amp;d=mm&amp;r=g" class="avatar avatar-60 photo jetpack-lazy-image" height="60" width="60" data-lazy-srcset="https://secure.gravatar.com/avatar/243a2895c04736446dec228a0c4bc9ef?s=120&amp;d=mm&amp;r=g 2x" data-lazy-src="https://secure.gravatar.com/avatar/243a2895c04736446dec228a0c4bc9ef?s=60&amp;is-pending-load=1#038;d=mm&amp;r=g" srcset="data:image/gif;base64 ,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7 "><noscript><img alt="" src="https://secure.gravatar.com/avatar/243a2895c04736446dec228a0c4bc9ef?s=60&amp;d=mm&amp;r=g" srcset="https://secure.gravatar.com/avatar/243a2895c04736446dec228a0c4bc9ef?s=120&amp;d=mm&amp;r=g 2x" class="avatar avatar-60 photo" height="60" width="60"></noscript>
            <div class="comment-wrapper">

                <header class="comment-meta comment-author vcard">
                    <cite><b class="fn">Martins</b> </cite><a class="comment-time" href="https://dbatools.io/snowball/#comment-19453"><time datetime="2018-10-09T11:09:53+00:00">October 9, 2018</time></a><a rel="nofollow" class="comment-reply-link" href="https://dbatools.io/snowball/?replytocom=19453#respond" data-commentid="19453" data-postid="3050" data-belowelement="comment-19453" data-respondelement="respond" aria-label="Reply to Martins">Reply</a>                </header>

                
                <div class="comment-content entry-content">
                    <p>Hello,<br>
How to restore database to a new name (for example MyDB_new)? I don&rsquo;t want to REPLACE.</p>
<p>[Restore-DbaDatabase] Failure | Database My_DB exists, so WithReplace must be specified</p>
                                    </div>

            </div>

        </article>
    <ul class="children">
    <li class="comment byuser comment-author-stuart bypostauthor odd alt depth-2" id="li-comment-61255">
        <article id="comment-61255" class="comment clearfix">

            <img alt src="https://secure.gravatar.com/avatar/1266a0b65e63df9550f46f33f1a52a7a?s=60&amp;d=mm&amp;r=g" class="avatar avatar-60 photo jetpack-lazy-image" height="60" width="60" data-lazy-srcset="https://secure.gravatar.com/avatar/1266a0b65e63df9550f46f33f1a52a7a?s=120&amp;d=mm&amp;r=g 2x" data-lazy-src="https://secure.gravatar.com/avatar/1266a0b65e63df9550f46f33f1a52a7a?s=60&amp;is-pending-load=1#038;d=mm&amp;r=g" srcset="data:image/gif;base64 ,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7 "><noscript><img alt="" src="https://secure.gravatar.com/avatar/1266a0b65e63df9550f46f33f1a52a7a?s=60&amp;d=mm&amp;r=g" srcset="https://secure.gravatar.com/avatar/1266a0b65e63df9550f46f33f1a52a7a?s=120&amp;d=mm&amp;r=g 2x" class="avatar avatar-60 photo" height="60" width="60"></noscript>
            <div class="comment-wrapper">

                <header class="comment-meta comment-author vcard">
                    <cite><b class="fn"><a href="https://stuart-moore.com" rel="external nofollow ugc" class="url">Stuart Moore</a></b> <span>Post author</span></cite><a class="comment-time" href="https://dbatools.io/snowball/#comment-61255"><time datetime="2019-04-05T09:37:31+00:00">April 5, 2019</time></a><a rel="nofollow" class="comment-reply-link" href="https://dbatools.io/snowball/?replytocom=61255#respond" data-commentid="61255" data-postid="3050" data-belowelement="comment-61255" data-respondelement="respond" aria-label="Reply to Stuart Moore">Reply</a>                </header>

                
                <div class="comment-content entry-content">
                    <p>Hi Martins, you would do that with this command:<br>
<code>Restore-DbaDatabase -SqlInstance server1 -Path c:\backups -DatabaseName NewName -ReplaceDbNameInFile</code></p>
<p>This will restore the database as NewName and also replace the old name in the Database filenames to avoid any clashes</p>
                                    </div>

            </div>

        </article>
    </li>
</ul>
</li>
    <li class="comment even thread-even depth-1" id="li-comment-60945">
        <article id="comment-60945" class="comment clearfix">

            <img alt src="https://secure.gravatar.com/avatar/5507d78423c1838ae688ff375e8ddda9?s=60&amp;d=mm&amp;r=g" class="avatar avatar-60 photo jetpack-lazy-image" height="60" width="60" data-lazy-srcset="https://secure.gravatar.com/avatar/5507d78423c1838ae688ff375e8ddda9?s=120&amp;d=mm&amp;r=g 2x" data-lazy-src="https://secure.gravatar.com/avatar/5507d78423c1838ae688ff375e8ddda9?s=60&amp;is-pending-load=1#038;d=mm&amp;r=g" srcset="data:image/gif;base64 ,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7 "><noscript><img alt="" src="https://secure.gravatar.com/avatar/5507d78423c1838ae688ff375e8ddda9?s=60&amp;d=mm&amp;r=g" srcset="https://secure.gravatar.com/avatar/5507d78423c1838ae688ff375e8ddda9?s=120&amp;d=mm&amp;r=g 2x" class="avatar avatar-60 photo" height="60" width="60"></noscript>
            <div class="comment-wrapper">

                <header class="comment-meta comment-author vcard">
                    <cite><b class="fn">Raj</b> </cite><a class="comment-time" href="https://dbatools.io/snowball/#comment-60945"><time datetime="2019-04-03T17:01:04+00:00">April 3, 2019</time></a><a rel="nofollow" class="comment-reply-link" href="https://dbatools.io/snowball/?replytocom=60945#respond" data-commentid="60945" data-postid="3050" data-belowelement="comment-60945" data-respondelement="respond" aria-label="Reply to Raj">Reply</a>                </header>

                
                <div class="comment-content entry-content">
                    <p>Thank you so much, this is so helpful.<br>
I have question in regards to applying the last few days logs for a already restored(in-recovery) Database using Restore-DbaDatabase -SqlServer testserver2 -NoRecovery  -Path &lsquo;\\testserver1\Backup\xxxx$testerver1\testdb&rsquo;  -MaintenanceSolutionBackup</p>
<p>is there a trick available like the above that</p>
                                    </div>

            </div>

        </article>
    <ul class="children">
    <li class="comment byuser comment-author-stuart bypostauthor odd alt depth-2" id="li-comment-61254">
        <article id="comment-61254" class="comment clearfix">

            <img alt src="https://secure.gravatar.com/avatar/1266a0b65e63df9550f46f33f1a52a7a?s=60&amp;d=mm&amp;r=g" class="avatar avatar-60 photo jetpack-lazy-image" height="60" width="60" data-lazy-srcset="https://secure.gravatar.com/avatar/1266a0b65e63df9550f46f33f1a52a7a?s=120&amp;d=mm&amp;r=g 2x" data-lazy-src="https://secure.gravatar.com/avatar/1266a0b65e63df9550f46f33f1a52a7a?s=60&amp;is-pending-load=1#038;d=mm&amp;r=g" srcset="data:image/gif;base64 ,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7 "><noscript><img alt="" src="https://secure.gravatar.com/avatar/1266a0b65e63df9550f46f33f1a52a7a?s=60&amp;d=mm&amp;r=g" srcset="https://secure.gravatar.com/avatar/1266a0b65e63df9550f46f33f1a52a7a?s=120&amp;d=mm&amp;r=g 2x" class="avatar avatar-60 photo" height="60" width="60"></noscript>
            <div class="comment-wrapper">

                <header class="comment-meta comment-author vcard">
                    <cite><b class="fn"><a href="https://stuart-moore.com" rel="external nofollow ugc" class="url">Stuart Moore</a></b> <span>Post author</span></cite><a class="comment-time" href="https://dbatools.io/snowball/#comment-61254"><time datetime="2019-04-05T09:32:50+00:00">April 5, 2019</time></a><a rel="nofollow" class="comment-reply-link" href="https://dbatools.io/snowball/?replytocom=61254#respond" data-commentid="61254" data-postid="3050" data-belowelement="comment-61254" data-respondelement="respond" aria-label="Reply to Stuart Moore">Reply</a>                </header>

                
                <div class="comment-content entry-content">
                    <p>Hi Raj,<br>
To continue the restore you&rsquo;d issue this command:<br>
<code>Restore-DbaDatabase -SqlServer testserver2 -Continue -Path &lsquo;\\testserver1\Backup\xxxx$testerver1\testdb&rsquo; -MaintenanceSolutionBackup</code></p>
<p>This will recover your database. If you want to be able to restore more log files, then use this:<br>
<code>Restore-DbaDatabase -SqlServer testserver2 -NoRecovery -Continue -Path &lsquo;\\testserver1\Backup\xxxx$testerver1\testdb&rsquo; -MaintenanceSolutionBackup</code></p>
<p>Hope that helps</p>
                                    </div>

            </div>

        </article>
    </li>
</ul>
</li>
		</ol>

		
	
	
	
		<div id="respond" class="comment-respond">
							<h3 id="reply-title" class="comment-reply-title">Leave a Reply					<small><a rel="nofollow" id="cancel-comment-reply-link" href="https://dbatools.io/snowball/#respond" style="display:none;">Cancel reply</a></small>
				</h3>
						<form id="commentform" class="comment-form">
				<iframe title="Comment Form" src="https://jetpack.wordpress.com/jetpack-comment/?blogid=111052036&amp;postid=3050&amp;comment_registration=0&amp;require_name_email=1&amp;stc_enabled=1&amp;stb_enabled=1&amp;show_avatars=1&amp;avatar_default=mystery&amp;greeting=Leave+a+Reply&amp;greeting_reply=Leave+a+Reply+to+%25s&amp;color_scheme=light&amp;lang=en_US&amp;jetpack_version=8.4.2&amp;show_cookie_consent=10&amp;has_cookie_consent=0&amp;token_key=%3Bnormal%3B&amp;sig=52a62539403655018d45532993f2c995303fe6ad#parent=https%3A%2F%2Fdbatools.io%2Fsnowball%2F" style="width:100%; height: 430px; border:0;" name="jetpack_remote_comment" class="jetpack_remote_comment" id="jetpack_remote_comment" sandbox="allow-same-origin allow-top-navigation allow-scripts allow-forms allow-popups"></iframe>
									
					<script>
						document.addEventListener('DOMContentLoaded', function () {
							var commentForms = document.getElementsByClassName('jetpack_remote_comment');
							for (var i = 0; i < commentForms.length; i++) {
								commentForms[i].allowTransparency = false;
								commentForms[i].scrolling = 'no';
							}
						});
					</script>
					
							</form>
		</div>

		
		<input type="hidden" name="comment_parent" id="comment_parent" value="">

		<p class="akismet_comment_form_privacy_notice">This site uses Akismet to reduce spam. <a href="https://akismet.com/privacy/" target="_blank" rel="nofollow noopener">Learn how your comment data is processed</a>.</p>
</div>

				
				</main>
			</div>

                            
<div id="secondary" class="widget-area sidebar" role="complementary">
	<aside id="search-2" class="widget widget_search"><form role="search" method="get" class="search-form" action="https://dbatools.io/">
				<label>
					<span class="screen-reader-text">Search for:</span>
					<input type="search" class="search-field" placeholder="Search &hellip;" value="" name="s">
				</label>
				<input type="submit" class="search-submit" value="Search">
			</form></aside><aside id="custom_html-3" class="widget_text widget widget_custom_html"><h2 class="widget-title">new book</h2><div class="textwidget custom-html-widget">dbatools in a month of lunches is now available in Manning's Early Access Program &#128640; <br>&nbsp;

<p align="center"><a href="https://dbatools.io/book"><img alt="dbatools meap" src="https://blog.netnerds.net/images/meap.png?w=800&amp;ssl=1" data-recalc-dims="1" data-lazy-src="https://blog.netnerds.net/images/meap.png?w=800&amp;is-pending-load=1#038;ssl=1" srcset="data:image/gif;base64 ,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7 " class=" jetpack-lazy-image"><noscript><img alt="dbatools meap" src="https://blog.netnerds.net/images/meap.png?w=800&amp;ssl=1" data-recalc-dims="1"></noscript></a></p>

Get the book now at <a href="https://dbatools.io/book">manning.com</a></div></aside><aside id="sticky-posts-2" class="widget widget_ultimate_posts"><h2 class="widget-title"><a href="https://dbatools.io/blog">posts</a></h2>

<div class="upw-posts hfeed">

  
      
        
        <article class="post-10008 post type-post status-publish format-standard has-post-thumbnail hentry category-announcements">

          <header>

                          <div class="entry-image">
                <a href="https://dbatools.io/aliases/" rel="bookmark">
                  <img width="300" height="155" src="https://dbatools.io/wp-content/uploads/2020/01/cli12a.png?fit=300%2C155&amp;ssl=1" class="attachment-medium size-medium wp-post-image jetpack-lazy-image" alt="" data-lazy-srcset="https://dbatools.io/wp-content/uploads/2020/01/cli12a.png?w=905&amp;ssl=1 905w, https://dbatools.io/wp-content/uploads/2020/01/cli12a.png?resize=300%2C155&amp;ssl=1 300w, https://dbatools.io/wp-content/uploads/2020/01/cli12a.png?resize=768%2C396&amp;ssl=1 768w" data-lazy-sizes="(max-width: 300px) 100vw, 300px" data-lazy-src="https://dbatools.io/wp-content/uploads/2020/01/cli12a.png?fit=300%2C155&amp;ssl=1&amp;is-pending-load=1" srcset="data:image/gif;base64 ,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7 ">                </a>
              </div>
            
                          <h4 class="entry-title">
                <a href="https://dbatools.io/aliases/" rel="bookmark">
                  working with sql client aliases                </a>
              </h4>
            
            
          </header>

          
          <footer>

            
            
            
          </footer>

        </article>

      
        
        <article class="post-10124 post type-post status-publish format-standard has-post-thumbnail hentry category-announcements">

          <header>

                          <div class="entry-image">
                <a href="https://dbatools.io/bits2020/" rel="bookmark">
                  <img width="300" height="108" src="https://dbatools.io/wp-content/uploads/2016/07/dbatools-for-post.png?fit=300%2C108&amp;ssl=1" class="attachment-medium size-medium wp-post-image jetpack-lazy-image" alt="" data-lazy-src="https://dbatools.io/wp-content/uploads/2016/07/dbatools-for-post.png?fit=300%2C108&amp;ssl=1&amp;is-pending-load=1" srcset="data:image/gif;base64 ,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7 ">                </a>
              </div>
            
                          <h4 class="entry-title">
                <a href="https://dbatools.io/bits2020/" rel="bookmark">
                  Vote for these SQLBits 2020 PowerShell sessions                </a>
              </h4>
            
            
          </header>

          
          <footer>

            
            
            
          </footer>

        </article>

      
        
        <article class="post-10010 post type-post status-publish format-standard has-post-thumbnail hentry category-announcements">

          <header>

                          <div class="entry-image">
                <a href="https://dbatools.io/size/" rel="bookmark">
                  <img width="300" height="139" src="https://dbatools.io/wp-content/uploads/2019/09/disksize.png?fit=300%2C139&amp;ssl=1" class="attachment-medium size-medium wp-post-image jetpack-lazy-image" alt="" data-lazy-srcset="https://dbatools.io/wp-content/uploads/2019/09/disksize.png?w=1139&amp;ssl=1 1139w, https://dbatools.io/wp-content/uploads/2019/09/disksize.png?resize=300%2C139&amp;ssl=1 300w, https://dbatools.io/wp-content/uploads/2019/09/disksize.png?resize=768%2C355&amp;ssl=1 768w, https://dbatools.io/wp-content/uploads/2019/09/disksize.png?resize=1024%2C473&amp;ssl=1 1024w" data-lazy-sizes="(max-width: 300px) 100vw, 300px" data-lazy-src="https://dbatools.io/wp-content/uploads/2019/09/disksize.png?fit=300%2C139&amp;ssl=1&amp;is-pending-load=1" srcset="data:image/gif;base64 ,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7 ">                </a>
              </div>
            
                          <h4 class="entry-title">
                <a href="https://dbatools.io/size/" rel="bookmark">
                  working with file sizes in dbatools                </a>
              </h4>
            
            
          </header>

          
          <footer>

            
            
            
          </footer>

        </article>

      
        
        <article class="post-9995 post type-post status-publish format-standard has-post-thumbnail hentry category-announcements tag-book tag-dbatoolsmol tag-monthoflunches">

          <header>

                          <div class="entry-image">
                <a href="https://dbatools.io/meap/" rel="bookmark">
                  <img width="300" height="159" src="https://dbatools.io/wp-content/uploads/2019/09/2019-09-04_13-00-161.png?fit=300%2C159&amp;ssl=1" class="attachment-medium size-medium wp-post-image jetpack-lazy-image" alt="" data-lazy-srcset="https://dbatools.io/wp-content/uploads/2019/09/2019-09-04_13-00-161.png?w=1287&amp;ssl=1 1287w, https://dbatools.io/wp-content/uploads/2019/09/2019-09-04_13-00-161.png?resize=300%2C159&amp;ssl=1 300w, https://dbatools.io/wp-content/uploads/2019/09/2019-09-04_13-00-161.png?resize=768%2C408&amp;ssl=1 768w, https://dbatools.io/wp-content/uploads/2019/09/2019-09-04_13-00-161.png?resize=1024%2C543&amp;ssl=1 1024w" data-lazy-sizes="(max-width: 300px) 100vw, 300px" data-lazy-src="https://dbatools.io/wp-content/uploads/2019/09/2019-09-04_13-00-161.png?fit=300%2C159&amp;ssl=1&amp;is-pending-load=1" srcset="data:image/gif;base64 ,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7 ">                </a>
              </div>
            
                          <h4 class="entry-title">
                <a href="https://dbatools.io/meap/" rel="bookmark">
                  Learn dbatools in a Month of Lunches                </a>
              </h4>
            
            
          </header>

          
          <footer>

            
            
            
          </footer>

        </article>

      
        
        <article class="post-9928 post type-post status-publish format-standard has-post-thumbnail hentry category-announcements">

          <header>

                          <div class="entry-image">
                <a href="https://dbatools.io/oldapp/" rel="bookmark">
                  <img width="300" height="108" src="https://dbatools.io/wp-content/uploads/2016/07/dbatools-for-post.png?fit=300%2C108&amp;ssl=1" class="attachment-medium size-medium wp-post-image jetpack-lazy-image" alt="" data-lazy-src="https://dbatools.io/wp-content/uploads/2016/07/dbatools-for-post.png?fit=300%2C108&amp;ssl=1&amp;is-pending-load=1" srcset="data:image/gif;base64 ,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7 ">                </a>
              </div>
            
                          <h4 class="entry-title">
                <a href="https://dbatools.io/oldapp/" rel="bookmark">
                  migrating super old app databases                </a>
              </h4>
            
            
          </header>

          
          <footer>

            
            
            
          </footer>

        </article>

      
        
        <article class="post-9862 post type-post status-publish format-standard has-post-thumbnail hentry category-announcements tag-dbatools-configs tag-dbatools-settings tag-defaults">

          <header>

                          <div class="entry-image">
                <a href="https://dbatools.io/configuration/" rel="bookmark">
                  <img width="300" height="202" src="https://dbatools.io/wp-content/uploads/2019/08/Get-DbatoolsConfig_Output.png?fit=300%2C202&amp;ssl=1" class="attachment-medium size-medium wp-post-image jetpack-lazy-image" alt="" data-lazy-srcset="https://dbatools.io/wp-content/uploads/2019/08/Get-DbatoolsConfig_Output.png?w=1104&amp;ssl=1 1104w, https://dbatools.io/wp-content/uploads/2019/08/Get-DbatoolsConfig_Output.png?resize=300%2C202&amp;ssl=1 300w, https://dbatools.io/wp-content/uploads/2019/08/Get-DbatoolsConfig_Output.png?resize=768%2C516&amp;ssl=1 768w, https://dbatools.io/wp-content/uploads/2019/08/Get-DbatoolsConfig_Output.png?resize=1024%2C688&amp;ssl=1 1024w" data-lazy-sizes="(max-width: 300px) 100vw, 300px" data-lazy-src="https://dbatools.io/wp-content/uploads/2019/08/Get-DbatoolsConfig_Output.png?fit=300%2C202&amp;ssl=1&amp;is-pending-load=1" srcset="data:image/gif;base64 ,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7 ">                </a>
              </div>
            
                          <h4 class="entry-title">
                <a href="https://dbatools.io/configuration/" rel="bookmark">
                  dbatools advanced configuration                </a>
              </h4>
            
            
          </header>

          
          <footer>

            
            
            
          </footer>

        </article>

      
  
</div>

</aside><aside id="blog_subscription-2" class="widget widget_blog_subscription jetpack_subscription_widget"><h2 class="widget-title">subscribe</h2>
            <form action="#" method="post" accept-charset="utf-8" id="subscribe-blog-blog_subscription-2">
				                    <div id="subscribe-text"><p>Enter your email address to subscribe to this blog and receive notifications of new posts by email.</p>
</div><p>Join 2,166 other subscribers</p>
                    <p id="subscribe-email">
                        <label id="jetpack-subscribe-label" class="screen-reader-text" for="subscribe-field-blog_subscription-2">
							email                        </label>
                        <input type="email" name="email" required="required" class="required" value="" id="subscribe-field-blog_subscription-2" placeholder="email">
                    </p>

                    <p id="subscribe-submit">
                        <input type="hidden" name="action" value="subscribe">
                        <input type="hidden" name="source" value="https://dbatools.io/snowball/">
                        <input type="hidden" name="sub-type" value="widget">
                        <input type="hidden" name="redirect_fragment" value="blog_subscription-2">
						                        <button type="submit" name="jetpack_subscriptions_widget">
	                        subscribe                        </button>
                    </p>
				            </form>
		
</aside><aside id="eu_cookie_law_widget-3" class="widget widget_eu_cookie_law_widget"><div class="hide-on-button" data-hide-timeout="30" data-consent-expiration="180" id="eu-cookie-law">
	<form method="post">
		<input type="submit" value="Close and accept" class="accept">
	</form>

	Privacy &amp; Cookies: This site uses cookies. By continuing to use this website, you agree to their use. <br>
To find out more, including how to control cookies, see here:
	<a href="https://automattic.com/cookies/">
		Cookie Policy	</a>
</div>
</aside></div>
            
		</div>
	</div>

    <footer id="colophon" class="site-footer" role="contentinfo">
                    <div class="footer-connect">
                <div class="container">
                    <div class="row">
                        <div class="col-sm-2"></div>
                        
                        <div class="col-sm-8">
                                                            <div class="footer-social">
                                    <h5 class="follow-heading">dbatools on the web</h5><div class="footer-social-icons"><a target="_blank" href="http://git.io/b3oo" title="github"><i class="fa fa-github"></i></a><a target="_blank" href="https://www.youtube.com/channel/UC1qrq0zfswSM_Uf9-vBrsiw" title="YouTube"><i class="fa fa-youtube"></i></a><a target="_blank" href="https://dbatools.io/slack" title="Slack"><i class="fa fa-slack"></i></a><a target="_blank" href="https://twitter.com/psdbatools" title="Twitter"><i class="fa fa-twitter"></i></a><a target="_blank" href="https://www.linkedin.com/company/dbatools.io" title="LinkedIn"><i class="fa fa-linkedin-square fa-linkedin"></i></a><a target="_blank" href="https://twitch.tv/dbatools" title="Twitch"><i class="fa fa-twitch"></i></a><a target="_blank" href="https://dbatools.io/book" title="Manning"><i class="fa fa-book fa-manning"></i></a></div>                                </div>
                                                    </div>
                        <div class="col-sm-2"></div>
                    </div>
                </div>
            </div>
        
        <div class="site-info">
            <div class="container">
                                &copy; 2020 Chrissy LeMaire, PowerShell and SQL Server MVP<br><a href="https://dbatools.io/contact">Contact Us</a>            </div>
        </div>
        

    </footer>
</div>

	<div style="display:none">
	<div class="grofile-hash-map-e3bf280e6256cc1fd4cefbdff4244ccd">
	</div>
	<div class="grofile-hash-map-61f9ab0149fd5030001df1a8c884324c">
	</div>
	<div class="grofile-hash-map-527b83e9dfbeab5aeeab7a03c5f1ba7c">
	</div>
	<div class="grofile-hash-map-7d1b1dd7a30a82174477732c05d4c9cd">
	</div>
	<div class="grofile-hash-map-34388884100be79a91a030d1cc46aad3">
	</div>
	<div class="grofile-hash-map-243a2895c04736446dec228a0c4bc9ef">
	</div>
	<div class="grofile-hash-map-1266a0b65e63df9550f46f33f1a52a7a">
	</div>
	<div class="grofile-hash-map-5507d78423c1838ae688ff375e8ddda9">
	</div>
	</div>
<script type="text/javascript" src="https://c0.wp.com/p/jetpack/8.4.2/_inc/build/photon/photon.min.js"></script>
<script type="text/javascript" src="https://secure.gravatar.com/js/gprofiles.js?ver=202035"></script>
<script type="text/javascript">
/* <![CDATA[ */
var WPGroHo = {"my_hash":""};
/* ]]> */
</script>
<script type="text/javascript" src="https://c0.wp.com/p/jetpack/8.4.2/modules/wpgroho.js"></script>
<script type="text/javascript" src="https://dbatools.io/wp-content/themes/onepress-master/assets/js/plugins.js?ver=11.0.0"></script>
<script type="text/javascript" src="https://dbatools.io/wp-content/themes/onepress-master/assets/js/bootstrap.min.js?ver=11.0.0"></script>
<script type="text/javascript" src="https://dbatools.io/wp-content/themes/onepress-master/assets/js/lightgallery.js?ver=11.0.0"></script>
<script type="text/javascript" src="https://dbatools.io/wp-content/themes/onepress-master/assets/js/theme.js?ver=11.0.0"></script>
<script type="text/javascript" src="https://c0.wp.com/p/jetpack/8.4.2/_inc/build/widgets/eu-cookie-law/eu-cookie-law.min.js"></script>
<script type="text/javascript" src="https://c0.wp.com/p/jetpack/8.4.2/_inc/build/lazy-images/js/lazy-images.min.js"></script>
<script type="text/javascript" src="https://dbatools.io/wp-content/plugins/onepress-plus/assets/js/onepress-plus.js?ver=10.1.8"></script>
<script async="async" type="text/javascript" src="https://dbatools.io/wp-content/plugins/akismet/_inc/form.js?ver=4.1.4"></script>

		
		<script type="text/javascript">
			(function () {
				var comm_par_el = document.getElementById( 'comment_parent' ),
					comm_par = ( comm_par_el && comm_par_el.value ) ? comm_par_el.value : '',
					frame = document.getElementById( 'jetpack_remote_comment' ),
					tellFrameNewParent;

				tellFrameNewParent = function () {
					if ( comm_par ) {
						frame.src = "https://jetpack.wordpress.com/jetpack-comment/?blogid=111052036&postid=3050&comment_registration=0&require_name_email=1&stc_enabled=1&stb_enabled=1&show_avatars=1&avatar_default=mystery&greeting=Leave+a+Reply&greeting_reply=Leave+a+Reply+to+%25s&color_scheme=light&lang=en_US&jetpack_version=8.4.2&show_cookie_consent=10&has_cookie_consent=0&token_key=%3Bnormal%3B&sig=52a62539403655018d45532993f2c995303fe6ad#parent=https%3A%2F%2Fdbatools.io%2Fsnowball%2F" + '&replytocom=' + parseInt( comm_par, 10 ).toString();
					} else {
						frame.src = "https://jetpack.wordpress.com/jetpack-comment/?blogid=111052036&postid=3050&comment_registration=0&require_name_email=1&stc_enabled=1&stb_enabled=1&show_avatars=1&avatar_default=mystery&greeting=Leave+a+Reply&greeting_reply=Leave+a+Reply+to+%25s&color_scheme=light&lang=en_US&jetpack_version=8.4.2&show_cookie_consent=10&has_cookie_consent=0&token_key=%3Bnormal%3B&sig=52a62539403655018d45532993f2c995303fe6ad#parent=https%3A%2F%2Fdbatools.io%2Fsnowball%2F";
					}
				};

				
				if ( 'undefined' !== typeof addComment ) {
					addComment._Jetpack_moveForm = addComment.moveForm;

					addComment.moveForm = function ( commId, parentId, respondId, postId ) {
						var returnValue = addComment._Jetpack_moveForm( commId, parentId, respondId, postId ),
							cancelClick, cancel;

						if ( false === returnValue ) {
							cancel = document.getElementById( 'cancel-comment-reply-link' );
							cancelClick = cancel.onclick;
							cancel.onclick = function () {
								var cancelReturn = cancelClick.call( this );
								if ( false !== cancelReturn ) {
									return cancelReturn;
								}

								if ( ! comm_par ) {
									return cancelReturn;
								}

								comm_par = 0;

								tellFrameNewParent();

								return cancelReturn;
							};
						}

						if ( comm_par == parentId ) {
							return returnValue;
						}

						comm_par = parentId;

						tellFrameNewParent();

						return returnValue;
					};
				}

				
				// Do the post message bit after the dom has loaded.
				document.addEventListener( 'DOMContentLoaded', function () {
					var iframe_url = "https:\/\/jetpack.wordpress.com";
					if ( window.postMessage ) {
						if ( document.addEventListener ) {
							window.addEventListener( 'message', function ( event ) {
								var origin = event.origin.replace( /^http:\/\//i, 'https://' );
								if ( iframe_url.replace( /^http:\/\//i, 'https://' ) !== origin ) {
									return;
								}
								jQuery( frame ).height( event.data );
							});
						} else if ( document.attachEvent ) {
							window.attachEvent( 'message', function ( event ) {
								var origin = event.origin.replace( /^http:\/\//i, 'https://' );
								if ( iframe_url.replace( /^http:\/\//i, 'https://' ) !== origin ) {
									return;
								}
								jQuery( frame ).height( event.data );
							});
						}
					}
				})

			})();
		</script>

		<script type="text/javascript" src="https://stats.wp.com/e-202035.js" async="async" defer></script>
<script type="text/javascript">
	_stq = window._stq || [];
	_stq.push([ 'view', {v:'ext',j:'1:8.4.2',blog:'111052036',post:'3050',tz:'0',srv:'dbatools.io'} ]);
	_stq.push([ 'clickTrackerInit', '111052036', '3050' ]);
</script>

</body>
</html>
