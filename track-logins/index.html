<!DOCTYPE html>
<html lang="en-US">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1">


<title>three ways to track logins using dbatools &ndash; dbatools</title>
<link rel="dns-prefetch" href="//secure.gravatar.com">
<link rel="dns-prefetch" href="//fonts.googleapis.com">
<link rel="dns-prefetch" href="//use.fontawesome.com">

<link rel="alternate" type="application/rss+xml" title="dbatools &raquo; Feed" href="https://dbatools.io/feed/">
<link rel="alternate" type="application/rss+xml" title="dbatools &raquo; Comments Feed" href="https://dbatools.io/comments/feed/">
<link rel="alternate" type="application/rss+xml" title="dbatools &raquo; three ways to track logins using dbatools Comments Feed" href="https://dbatools.io/track-logins/feed/">
<link rel="stylesheet" id="wp-block-library-css" href="https://c0.wp.com/c/5.3.4/wp-includes/css/dist/block-library/style.min.css" type="text/css" media="all">
<style id="wp-block-library-inline-css" type="text/css">
.has-text-align-justify{text-align:justify;}
</style>
<link rel="stylesheet" id="cpsh-shortcodes-css" href="https://dbatools.io/wp-content/plugins/column-shortcodes//assets/css/shortcodes.css?ver=1.0" type="text/css" media="all">
<link rel="stylesheet" id="onepress-fonts-css" href="https://fonts.googleapis.com/css?family=Raleway%3A400%2C500%2C600%2C700%2C300%2C100%2C800%2C900%7COpen+Sans%3A400%2C300%2C300italic%2C400italic%2C600%2C600italic%2C700%2C700italic&amp;subset=latin%2Clatin-ext&amp;ver=11.0.0" type="text/css" media="all">
<link rel="stylesheet" id="onepress-animate-css" href="https://dbatools.io/wp-content/themes/onepress-master/assets/css/animate.min.css?ver=11.0.0" type="text/css" media="all">
<link rel="stylesheet" id="onepress-fa-css" href="https://dbatools.io/wp-content/themes/onepress-master/assets/css/font-awesome.min.css?ver=11.0.0" type="text/css" media="all">
<link rel="stylesheet" id="onepress-bootstrap-css" href="https://dbatools.io/wp-content/themes/onepress-master/assets/css/bootstrap.min.css?ver=11.0.0" type="text/css" media="all">
<link rel="stylesheet" id="onepress-style-css" href="https://dbatools.io/wp-content/plugins/onepress-plus/style.css?ver=10.1.8" type="text/css" media="all">
<style id="onepress-style-inline-css" type="text/css">
#main .video-section section.hero-slideshow-wrapper{background:transparent}.hero-slideshow-wrapper:after{position:absolute;top:0px;left:0px;width:100%;height:100%;background-color:rgba(1,36,86,1);display:block;content:""}.body-desktop .parallax-hero .hero-slideshow-wrapper:after{display:none!important}.parallax-hero .parallax-mirror:after{position:absolute;top:0px;left:0px;width:100%;height:100%;background-color:rgba(1,36,86,1);display:block;content:""}.body-desktop .parallax-hero .hero-slideshow-wrapper:after{display:none!important}.parallax-hero .parallax-mirror:after{position:absolute;top:0px;left:0px;width:100%;height:100%;background-color:rgba(1,36,86,1);display:block;content:""}a,.screen-reader-text:hover,.screen-reader-text:active,.screen-reader-text:focus,.header-social a,.onepress-menu a:hover,.onepress-menu ul li a:hover,.onepress-menu li.onepress-current-item>a,.onepress-menu ul li.current-menu-item>a,.onepress-menu>li a.menu-actived,.onepress-menu.onepress-menu-mobile li.onepress-current-item>a,.site-footer a,.site-footer .footer-social a:hover,.site-footer .btt a:hover,.highlight,#comments .comment .comment-wrapper .comment-meta .comment-time:hover,#comments .comment .comment-wrapper .comment-meta .comment-reply-link:hover,#comments .comment .comment-wrapper .comment-meta .comment-edit-link:hover,.btn-theme-primary-outline,.sidebar .widget a:hover,.section-services .service-item .service-image i,.counter_item .counter__number,.team-member .member-thumb .member-profile a:hover,.icon-background-default{color:#012456}input[type="reset"],input[type="submit"],input[type="submit"],.nav-links a:hover,.btn-theme-primary,.btn-theme-primary-outline:hover,.card-theme-primary,.woocommerce #respond input#submit,.woocommerce a.button,.woocommerce button.button,.woocommerce input.button,.woocommerce button.button.alt{background:#012456}.btn-theme-primary-outline,.btn-theme-primary-outline:hover,.pricing__item:hover,.card-theme-primary,.entry-content blockquote{border-color:#012456}.site-header{background:#e3e3e3;border-bottom:0px none}.onepress-menu>li>a{color:#293955}.onepress-menu>li>a:hover,.onepress-menu>li.onepress-current-item>a{color:#444444;-webkit-transition:all 0.5s ease-in-out;-moz-transition:all 0.5s ease-in-out;-o-transition:all 0.5s ease-in-out;transition:all 0.5s ease-in-out}#nav-toggle span,#nav-toggle span::before,#nav-toggle span::after,#nav-toggle.nav-is-visible span::before,#nav-toggle.nav-is-visible span::after{background:#293955}.site-footer{background-color:#012456}.site-footer .footer-connect .follow-heading{color:rgba(255,255,255,0.9)}.site-footer .site-info,.site-footer .btt a{background-color:#545454}.site-footer .site-info{color:rgba(255,255,255,0.7)}.site-footer .btt a,.site-footer .site-info a{color:rgba(255,255,255,0.9)}.gallery-carousel .g-item{padding:0px 10px}.gallery-carousel{margin-left:-10px;margin-right:-10px}.gallery-grid .g-item,.gallery-masonry .g-item .inner{padding:10px}.gallery-grid,.gallery-masonry{margin:-10px}
/* --- Begin custom CSS --- */
.section-testimonials .card { max-width : 140px; }
/* --- End custom CSS --- */

 .section-features{ background-color: rgba(227,227,227,1); } 
 
</style>
<link rel="stylesheet" id="onepress-gallery-lightgallery-css" href="https://dbatools.io/wp-content/themes/onepress-master/assets/css/lightgallery.css?ver=5.3.4" type="text/css" media="all">
<link rel="stylesheet" id="upw_theme_standard-css" href="https://dbatools.io/wp-content/plugins/ultimate-posts-widget/css/upw-theme-standard.min.css?ver=5.3.4" type="text/css" media="all">
<link rel="stylesheet" id="font-awesome-official-css" href="https://use.fontawesome.com/releases/v5.11.2/css/all.css" type="text/css" media="all" integrity="sha384-KA6wR/X5RY4zFAHpv/CnoG2UW1uogYfdnP67Uv7eULvTveboZJg0qUpmJZb5VqzN" crossorigin="anonymous">
<link rel="stylesheet" id="onepress-child-style-css" href="https://dbatools.io/wp-content/themes/onepress/style.css?ver=5.3.4" type="text/css" media="all">
<link rel="stylesheet" id="sccss_style-css" href="https://dbatools.io/?sccss=1&amp;ver=5.3.4" type="text/css" media="all">
<link rel="stylesheet" id="font-awesome-official-v4shim-css" href="https://use.fontawesome.com/releases/v5.11.2/css/v4-shims.css" type="text/css" media="all" integrity="sha384-/EdpJd7d6gGFiQ/vhh7iOjiZdf4+6K4al/XrX6FxxZwDSrAdWxAynr4p/EA/vyPQ" crossorigin="anonymous">
<style id="font-awesome-official-v4shim-inline-css" type="text/css">
@font-face {
font-family: "FontAwesome";
src: url("https://use.fontawesome.com/releases/v5.11.2/webfonts/fa-brands-400.eot"),
		url("https://use.fontawesome.com/releases/v5.11.2/webfonts/fa-brands-400.eot?#iefix") format("embedded-opentype"),
		url("https://use.fontawesome.com/releases/v5.11.2/webfonts/fa-brands-400.woff2") format("woff2"),
		url("https://use.fontawesome.com/releases/v5.11.2/webfonts/fa-brands-400.woff") format("woff"),
		url("https://use.fontawesome.com/releases/v5.11.2/webfonts/fa-brands-400.ttf") format("truetype"),
		url("https://use.fontawesome.com/releases/v5.11.2/webfonts/fa-brands-400.svg#fontawesome") format("svg");
}

@font-face {
font-family: "FontAwesome";
src: url("https://use.fontawesome.com/releases/v5.11.2/webfonts/fa-solid-900.eot"),
		url("https://use.fontawesome.com/releases/v5.11.2/webfonts/fa-solid-900.eot?#iefix") format("embedded-opentype"),
		url("https://use.fontawesome.com/releases/v5.11.2/webfonts/fa-solid-900.woff2") format("woff2"),
		url("https://use.fontawesome.com/releases/v5.11.2/webfonts/fa-solid-900.woff") format("woff"),
		url("https://use.fontawesome.com/releases/v5.11.2/webfonts/fa-solid-900.ttf") format("truetype"),
		url("https://use.fontawesome.com/releases/v5.11.2/webfonts/fa-solid-900.svg#fontawesome") format("svg");
}

@font-face {
font-family: "FontAwesome";
src: url("https://use.fontawesome.com/releases/v5.11.2/webfonts/fa-regular-400.eot"),
		url("https://use.fontawesome.com/releases/v5.11.2/webfonts/fa-regular-400.eot?#iefix") format("embedded-opentype"),
		url("https://use.fontawesome.com/releases/v5.11.2/webfonts/fa-regular-400.woff2") format("woff2"),
		url("https://use.fontawesome.com/releases/v5.11.2/webfonts/fa-regular-400.woff") format("woff"),
		url("https://use.fontawesome.com/releases/v5.11.2/webfonts/fa-regular-400.ttf") format("truetype"),
		url("https://use.fontawesome.com/releases/v5.11.2/webfonts/fa-regular-400.svg#fontawesome") format("svg");
unicode-range: U+F004-F005,U+F007,U+F017,U+F022,U+F024,U+F02E,U+F03E,U+F044,U+F057-F059,U+F06E,U+F070,U+F075,U+F07B-F07C,U+F080,U+F086,U+F089,U+F094,U+F09D,U+F0A0,U+F0A4-F0A7,U+F0C5,U+F0C7-F0C8,U+F0E0,U+F0EB,U+F0F3,U+F0F8,U+F0FE,U+F111,U+F118-F11A,U+F11C,U+F133,U+F144,U+F146,U+F14A,U+F14D-F14E,U+F150-F152,U+F15B-F15C,U+F164-F165,U+F185-F186,U+F191-F192,U+F1AD,U+F1C1-F1C9,U+F1CD,U+F1D8,U+F1E3,U+F1EA,U+F1F6,U+F1F9,U+F20A,U+F247-F249,U+F24D,U+F254-F25B,U+F25D,U+F267,U+F271-F274,U+F279,U+F28B,U+F28D,U+F2B5-F2B6,U+F2B9,U+F2BB,U+F2BD,U+F2C1-F2C2,U+F2D0,U+F2D2,U+F2DC,U+F2ED,U+F328,U+F358-F35B,U+F3A5,U+F3D1,U+F410,U+F4AD;
}
</style>
<link rel="stylesheet" id="jetpack_css-css" href="https://c0.wp.com/p/jetpack/8.4.2/css/jetpack.css" type="text/css" media="all">
<script type="text/javascript">
/* <![CDATA[ */
var onepress_js_settings = {"onepress_disable_animation":"1","onepress_disable_sticky_header":"1","onepress_vertical_align_menu":"0","hero_animation":"flipInX","hero_speed":"5000000","is_home":"","gallery_enable":"1"};
var OnePress_Plus = {"ajax_url":"https:\/\/dbatools.io\/wp-admin\/admin-ajax.php","browser_warning":" Your browser does not support the video tag. I suggest you upgrade your browser."};
/* ]]> */
</script>
<script type="text/javascript" src="https://c0.wp.com/c/5.3.4/wp-includes/js/jquery/jquery.js"></script>
<script type="text/javascript" src="https://c0.wp.com/c/5.3.4/wp-includes/js/jquery/jquery-migrate.min.js"></script>
<script type="text/javascript">
/* <![CDATA[ */
var related_posts_js_options = {"post_heading":"h4"};
/* ]]> */
</script>
<script type="text/javascript" src="https://c0.wp.com/p/jetpack/8.4.2/_inc/build/related-posts/related-posts.min.js"></script>


<link rel="prev" title="Minimal-downtime migrations using Invoke-DbaLogShipping" href="https://dbatools.io/logshipping/">
<link rel="next" title="decreasing module import times" href="https://dbatools.io/import-times/">


<link rel="alternate" type="application/json+oembed" href="https://dbatools.io/wp-json/oembed/1.0/embed?url=https%3A%2F%2Fdbatools.io%2Ftrack-logins%2F">
<link rel="alternate" type="text/xml+oembed" href="https://dbatools.io/wp-json/oembed/1.0/embed?url=https%3A%2F%2Fdbatools.io%2Ftrack-logins%2F&amp;format=xml">

<link rel="dns-prefetch" href="//v0.wordpress.com">
<link rel="dns-prefetch" href="//widgets.wp.com">
<link rel="dns-prefetch" href="//s0.wp.com">
<link rel="dns-prefetch" href="//0.gravatar.com">
<link rel="dns-prefetch" href="//1.gravatar.com">
<link rel="dns-prefetch" href="//2.gravatar.com">
<link rel="dns-prefetch" href="//i0.wp.com">
<link rel="dns-prefetch" href="//i1.wp.com">
<link rel="dns-prefetch" href="//i2.wp.com">
<link rel="dns-prefetch" href="//c0.wp.com">
<link rel="dns-prefetch" href="//jetpack.wordpress.com">
<link rel="dns-prefetch" href="//s1.wp.com">
<link rel="dns-prefetch" href="//s2.wp.com">
<link rel="dns-prefetch" href="//public-api.wordpress.com">
<style type="text/css">img#wpstats{display:none}</style><link rel="canonical" href="https://dbatools.io/track-logins/">
			<style type="text/css">
				/* If html does not have either class, do not show lazy loaded images. */
				html:not( .jetpack-lazy-images-js-enabled ):not( .js ) .jetpack-lazy-image {
					display: none;
				}
			</style>
			<script>
				document.documentElement.classList.add(
					'jetpack-lazy-images-js-enabled'
				);
			</script>
		

<meta property="og:type" content="article">
<meta property="og:title" content="three ways to track logins using dbatools">
<meta property="og:url" content="https://dbatools.io/track-logins/">
<meta property="og:description" content="Years ago, I wrote Watch-DbaDbLogin which keeps an inventory of accounts, hosts and programs that log into a SQL Server. It was pretty crude, but helped immensely during my migration, as this inven&hellip;">
<meta property="article:published_time" content="2018-04-10T12:00:50+00:00">
<meta property="article:modified_time" content="2018-04-10T14:11:53+00:00">
<meta property="og:site_name" content="dbatools">
<meta property="og:image" content="https://dbatools.io/wp-content/uploads/2018/04/img_5ac54a4297b52-full.png?fit=956%2C217&amp;ssl=1">
<meta property="og:image:width" content="956">
<meta property="og:image:height" content="217">
<meta property="og:locale" content="en_US">
<meta name="twitter:text:title" content="three ways to track logins using dbatools">
<meta name="twitter:card" content="summary">


<link rel="icon" href="https://dbatools.io/wp-content/uploads/2016/05/dbatools.png?fit=32%2C32&amp;ssl=1" sizes="32x32">
<link rel="icon" href="https://dbatools.io/wp-content/uploads/2016/05/dbatools.png?fit=128%2C128&amp;ssl=1" sizes="192x192">
<link rel="apple-touch-icon-precomposed" href="https://dbatools.io/wp-content/uploads/2016/05/dbatools.png?fit=128%2C128&amp;ssl=1">
<meta name="msapplication-TileImage" content="https://dbatools.io/wp-content/uploads/2016/05/dbatools.png?fit=128%2C128&amp;ssl=1">

<style class="wp-typography-print-styles" type="text/css">
body, body p { 
	font-style: normal;
	text-transform: none;
 } 
 .onepress-menu a { 
	font-style: normal;
	text-transform: none;
 } 
 body h1, body h2, body h3, body h4, body h5, body h6,
    body .section-title-area .section-title, body .section-title-area .section-subtitle, body .hero-content-style1 h2 { 
	font-style: normal;
	text-transform: none;
 }
</style>
			<style type="text/css" id="wp-custom-css">
				/*
Welcome to Custom CSS!

To learn how this works, see http://wp.me/PEmnE-Bt
*/			</style>
		</head>

<body class="post-template-default single single-post postid-7432 single-format-standard wp-custom-logo group-blog no-sticky-header">
<div id="page" class="hfeed site">
	<a class="skip-link screen-reader-text" href="#content">Skip to content</a>
            <header id="masthead" class="site-header" role="banner">
            <div class="container">
                <div class="site-branding">
                <div class="site-brand-inner has-logo-img no-desc"><div class="site-logo-div"><a href="https://dbatools.io/" class="custom-logo-link" rel="home"><img width="223" height="64" src="https://dbatools.io/wp-content/uploads/2016/05/dbatools-logo-1.png?fit=223%2C64&amp;ssl=1" class="custom-logo jetpack-lazy-image" alt="dbatools" data-lazy-src="https://dbatools.io/wp-content/uploads/2016/05/dbatools-logo-1.png?fit=223%2C64&amp;ssl=1&amp;is-pending-load=1" srcset="data:image/gif;base64 ,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7 "></a></div></div>                </div>
                

                <div class="header-right-wrapper">
                    <a href="#0" id="nav-toggle">Menu<span></span></a>
                    <nav id="site-navigation" class="main-navigation" role="navigation">
                        <ul class="onepress-menu">
                            <li id="menu-item-1452" class="menu-item menu-item-type-post_type menu-item-object-page menu-item-has-children menu-item-1452"><a href="https://dbatools.io/download/">&#11015; download</a>
<ul class="sub-menu">
	<li id="menu-item-1451" class="menu-item menu-item-type-post_type menu-item-object-page menu-item-1451"><a href="https://dbatools.io/getting-started/">get started</a></li>
</ul>
</li>
<li id="menu-item-1453" class="menu-item menu-item-type-post_type menu-item-object-page menu-item-1453"><a href="https://dbatools.io/commands/">&#128640; commands</a></li>
<li id="menu-item-8268" class="menu-item menu-item-type-custom menu-item-object-custom menu-item-has-children menu-item-8268"><a href="https://dbatools.io/docs">&#128209; docs</a>
<ul class="sub-menu">
	<li id="menu-item-8270" class="menu-item menu-item-type-custom menu-item-object-custom menu-item-8270"><a href="https://dbatools.io/blog">blog</a></li>
</ul>
</li>
<li id="menu-item-1456" class="menu-item menu-item-type-post_type menu-item-object-page menu-item-has-children menu-item-1456"><a href="https://dbatools.io/team/">&#129395; team</a>
<ul class="sub-menu">
	<li id="menu-item-3315" class="menu-item menu-item-type-custom menu-item-object-custom menu-item-3315"><a href="https://dbatools.io/contributing">contribute</a></li>
	<li id="menu-item-3123" class="menu-item menu-item-type-post_type menu-item-object-page menu-item-3123"><a href="https://dbatools.io/contact/">contact</a></li>
	<li id="menu-item-3116" class="menu-item menu-item-type-custom menu-item-object-custom menu-item-has-children menu-item-3116"><a href="https://dbatools.io/git">find us</a>
	<ul class="sub-menu">
		<li id="menu-item-4663" class="menu-item menu-item-type-custom menu-item-object-custom menu-item-4663"><a href="https://dbatools.io/slack">slack</a></li>
		<li id="menu-item-4662" class="menu-item menu-item-type-custom menu-item-object-custom menu-item-4662"><a href="https://dbatools.io/github">github</a></li>
		<li id="menu-item-4664" class="menu-item menu-item-type-custom menu-item-object-custom menu-item-4664"><a href="https://dbatools.io/twitter">twitter</a></li>
		<li id="menu-item-4665" class="menu-item menu-item-type-custom menu-item-object-custom menu-item-4665"><a href="https://dbatools.io/youtube">youtube</a></li>
		<li id="menu-item-4666" class="menu-item menu-item-type-custom menu-item-object-custom menu-item-4666"><a href="https://dbatools.io/linkedin">linkedin</a></li>
	</ul>
</li>
</ul>
</li>
<li id="menu-item-3340" class="menu-item menu-item-type-custom menu-item-object-custom menu-item-3340"><a href="https://dbatools.io/subscribe/">&#128140; subscribe</a></li>
<li id="menu-item-6587" class="menu-item menu-item-type-custom menu-item-object-custom menu-item-6587"><a href="https://dbatools.io/builds">&#10004; build ref</a></li>
<li id="menu-item-9781" class="menu-item menu-item-type-custom menu-item-object-custom menu-item-9781"><a href="https://dbatools.io/sponsorship/">&#128149; sponsor</a></li>
<li id="menu-item-9994" class="menu-item menu-item-type-custom menu-item-object-custom menu-item-9994"><a href="https://dbatools.io/book">&#128216; book</a></li>
                        </ul>
                    </nav>
                    
                </div>
            </div>
        </header>
        
	<div id="content" class="site-content">

		
		<div id="content-inside" class="container right-sidebar">
			<div id="primary" class="content-area">
				<main id="main" class="site-main" role="main">

				
					
<article id="post-7432" class="post-7432 post type-post status-publish format-standard has-post-thumbnail hentry category-announcements tag-party">
	<header class="entry-header">
		<h1 class="entry-title">three ways to track logins using dbatools</h1>
		<div class="entry-meta">
			<span class="posted-on">Posted on <a href="https://dbatools.io/track-logins/" rel="bookmark"><time class="entry-date published" datetime="2018-04-10T12:00:50+00:00">April 10, 2018</time><time class="updated hide" datetime="2018-04-10T14:11:53+00:00">April 10, 2018</time></a></span><span class="byline"> by <span class="author vcard"><a class="url fn n" href="https://dbatools.io/author/admin/">Chrissy LeMaire</a></span></span>		</div>
	</header>

	<div class="entry-content">
		<p>Years ago, I wrote Watch-DbaDbLogin which keeps an inventory of accounts, hosts and programs that log into a SQL Server. It was pretty crude, but helped immensely during my migration, as this inventory ensured that my documentation was in order and no unexpected downtime would occur.</p>
<p>I found that about 80-90% of logins/applications were covered within 48-hours, but two months of data gave me total confidence.</p>
<p><a href="https://dbatools.io/wp-content/uploads/2018/04/img_5ac54a4297b52-full.png?ssl=1"><img alt class="alignnone size-full wp-image-7460 aligncenter jetpack-lazy-image" src="https://dbatools.io/wp-content/uploads/2018/04/img_5ac54a4297b52.png?w=800&amp;ssl=1" data-recalc-dims="1" data-lazy-src="https://dbatools.io/wp-content/uploads/2018/04/img_5ac54a4297b52.png?w=800&amp;is-pending-load=1#038;ssl=1" srcset="data:image/gif;base64 ,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7 "><noscript><img alt="" class="alignnone size-full wp-image-7460 aligncenter" src="https://dbatools.io/wp-content/uploads/2018/04/img_5ac54a4297b52.png?w=800&amp;ssl=1" data-recalc-dims="1"></noscript></a></p>
<p>I always wanted to update the command, though I&rsquo;m not sure Watch-DbaDbLogin is still within the scope of the module. It&rsquo;ll likely remove it in dbatools 1.0 so please accept this far cooler post in its place.</p>
<p>There are several ways to capture logins, all with their own pros and cons. In this post, we&rsquo;ll outline four possibilities: default trace, audits, extended events and session enumeration.</p>
<p><strong>Note:</strong> The code in this post requires dbatools version 0.9.323. I found two bugs while testing sample scenarios &#128556; Also, this post addresses tracking logins for migration purposes, not for security purposes. Edit the where clauses as suitable for your environment.</p>
<h2>Using a default trace</h2>
<p>Using the default trace is pretty lightweight and backwards compatible. While I generally try to avoid traces, I like this method because it doesn&rsquo;t require remote access, it works on older SQL instances, it&rsquo;s accurate and reading from the trace isn&rsquo;t as CPU-intensive as it would be with an Extended Event.</p>
<h4>Setup the SQL table</h4>
<p>Basically, no matter which way you track your logins, you&rsquo;ll need to store them somewhere. Below is some T-SQL which sets up a table that is ideal for bulk importing (which we&rsquo;ll do using <code>Write-DbaDataTable</code>).</p>
<p>The table is created with an index that ignores duplicate <em>sessions</em>. When <code>IGNORE_DUP_KEY</code> is ON, a duplicate row is simply ignored. So we&rsquo;re going to setup a clustered index using SqlInstance, LoginName, HostName, DatabaseName, ApplicationName and StartTime. Then the collector will send a bunch of rows via bulkcopy to the table, and the table will ignore the dupes.</p>
<p><script src="https://gist.github.com/potatoqualitee/81340e1151c6c546d36ef7ca8798e7cc.js"></script></p>
<p>To clarify, &ldquo;duplicate&rdquo; logins may show up, but not duplicate sessions. Watch-DbaDbLogin only recorded the first time it ever saw a login/db/host/app combination which many people found to be less useful, especially if you run the login tracker for years. What if a login became stale?</p>
<p>If you&rsquo;d like the first login only, remove <code>StartTime ASC</code> from the index.</p>
<h4>Setup the default trace</h4>
<p><script src="https://gist.github.com/potatoqualitee/84d326955aebb2a748a503d4a0022ae0.js"></script></p>
<h4>Setup the collector</h4>
<p>Next, you&rsquo;ll want to setup a collector as a scheduled <a href="https://dbatools.io/agent">SQL Agent Job</a>.</p>
<p><script src="https://gist.github.com/potatoqualitee/e8ba5ed035c6653191bb6d006c71b12a.js"></script></p>
<p>How often should you run the job? It depends. I have one server that has login information going back to November. But I&rsquo;ve found that SharePoint or System Center dedicated instances only have about 20 minutes worth of login data in the default trace.</p>
<p>How long does the collection take? Polling 15 servers took 14 seconds to read 55,000 records and 18 seconds to write that data. Of the 55,000 records, only 115 were unique!</p>
<h2>Using a SQL Server Audit</h2>
<p>Audits are cool because <a href="https://docs.microsoft.com/en-us/sql/t-sql/statements/alter-server-audit-transact-sql">audits</a> can &ldquo;force the instance of SQL Server to shut down, if SQL Server fails to write data to the audit target for any reason&rdquo;. This ensures that 100% of your logins are captured. But my requirements for collecting <strong>migration information</strong> aren&rsquo;t that high and I haven&rsquo;t found the magical Audit Spec that only logs what I need. Here&rsquo;s what the .sqlaudit file for <code>SUCCESSFUL_LOGIN_GROUP</code> looks like when you rename it to .xel and open it.</p>
<p><a href="https://dbatools.io/wp-content/uploads/2019/04/audit.jpg?ssl=1"><img src="https://dbatools.io/wp-content/uploads/2019/04/audit.jpg?resize=562%2C692&amp;ssl=1" alt width="562" height="692" class="aligncenter size-full wp-image-7438 jetpack-lazy-image" data-recalc-dims="1" data-lazy-srcset="https://dbatools.io/wp-content/uploads/2019/04/audit.jpg?w=562&amp;ssl=1 562w, https://dbatools.io/wp-content/uploads/2019/04/audit.jpg?resize=244%2C300&amp;ssl=1 244w" data-lazy-sizes="(max-width: 562px) 100vw, 562px" data-lazy-src="https://dbatools.io/wp-content/uploads/2019/04/audit.jpg?resize=562%2C692&amp;is-pending-load=1#038;ssl=1" srcset="data:image/gif;base64 ,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7 "><noscript><img src="https://dbatools.io/wp-content/uploads/2019/04/audit.jpg?resize=562%2C692&amp;ssl=1" alt="" width="562" height="692" class="aligncenter size-full wp-image-7438" srcset="https://dbatools.io/wp-content/uploads/2019/04/audit.jpg?w=562&amp;ssl=1 562w,https://dbatools.io/wp-content/uploads/2019/04/audit.jpg?resize=244%2C300&amp;ssl=1 244w" sizes="(max-width: 562px) 100vw, 562px" data-recalc-dims="1"></noscript></a></p>
<p>Eh, I&rsquo;m missing so much stuff. And since Audits are Extended Events anyway, and I have more control over what I do and don&rsquo;t want to see, we&rsquo;ll skip right to Extended Events.</p>
<h2>Using Extended Events</h2>
<p>You can also use Extended Events. This option is pretty cool but collecting the data does require UNC access for remote servers.</p>
<h4>Setup the SQL table</h4>
<p><script src="https://gist.github.com/potatoqualitee/0fdd4c00d139e3ad54fab1565ee6c86e.js"></script></p>
<h4>Login Tracker template</h4>
<p>We&rsquo;ve provided a &ldquo;Login Tracker&rdquo; Extended Event session template that you can easily add to your estate.</p>
<p><a href="https://dbatools.io/wp-content/uploads/2018/04/img_5ac54b594aee5-full.png?ssl=1"><img alt class="alignnone size-full wp-image-7464 aligncenter jetpack-lazy-image" src="https://dbatools.io/wp-content/uploads/2018/04/img_5ac54b594aee5.png?w=800&amp;ssl=1" data-recalc-dims="1" data-lazy-src="https://dbatools.io/wp-content/uploads/2018/04/img_5ac54b594aee5.png?w=800&amp;is-pending-load=1#038;ssl=1" srcset="data:image/gif;base64 ,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7 "><noscript><img alt="" class="alignnone size-full wp-image-7464 aligncenter" src="https://dbatools.io/wp-content/uploads/2018/04/img_5ac54b594aee5.png?w=800&amp;ssl=1" data-recalc-dims="1"></noscript></a></p>
<p>This template creates a session that:</p>
<ul>
<li>Is initiated by sql_statement_starting event</li>
<li>Collects the minimum possible columns</li>
<li>Ignores connections from dbatools and SSMS</li>
<li>Ignores queries to tempdb</li>
<li>Ignores system queries</li>
<li>Keeps 50 MB of data on disk (10&times;5)</li>
</ul>
<p>I chose sql_statement_starting because it&rsquo;s the only one that I found that actually included the database name. If this doesn&rsquo;t work for you, you can modify then export/import the modified Session. If you have a better suggestion, I&rsquo;d love that. Please let me know; I kinda feel like this one is overkill.</p>
<h4>Setup the XESession</h4>
<p><script src="https://gist.github.com/potatoqualitee/fd5d739e539dafc19c635a63d3dbd8f0.js"></script></p>
<h4>Setup the collector</h4>
<p><script src="https://gist.github.com/potatoqualitee/411e506835c50eb9809a6701a14fa007.js"></script></p>
<h4>UNC access</h4>
<p>So instead of placing the burden of XML shredding on the CPU of the destination SQL instance, <code>Read-DbaXEFile</code> uses the local resources. It does this by using the <code>RemoteTargetFile</code> which is available in <code>Get-DbaXESession</code> but is not a default field. To unhide non-default fields, pipe to <em>SELECT *</em>.</p>
<p><a href="https://dbatools.io/wp-content/uploads/2019/04/session.jpg?ssl=1"><img src="https://dbatools.io/wp-content/uploads/2019/04/session.jpg?resize=800%2C540&amp;ssl=1" alt width="800" height="540" class="aligncenter size-large wp-image-7473 jetpack-lazy-image" data-recalc-dims="1" data-lazy-srcset="https://dbatools.io/wp-content/uploads/2019/04/session.jpg?resize=1024%2C691&amp;ssl=1 1024w, https://dbatools.io/wp-content/uploads/2019/04/session.jpg?resize=300%2C202&amp;ssl=1 300w, https://dbatools.io/wp-content/uploads/2019/04/session.jpg?resize=768%2C518&amp;ssl=1 768w, https://dbatools.io/wp-content/uploads/2019/04/session.jpg?w=1260&amp;ssl=1 1260w" data-lazy-sizes="(max-width: 800px) 100vw, 800px" data-lazy-src="https://dbatools.io/wp-content/uploads/2019/04/session.jpg?resize=800%2C540&amp;is-pending-load=1#038;ssl=1" srcset="data:image/gif;base64 ,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7 "><noscript><img src="https://dbatools.io/wp-content/uploads/2019/04/session.jpg?resize=800%2C540&amp;ssl=1" alt="" width="800" height="540" class="aligncenter size-large wp-image-7473" srcset="https://dbatools.io/wp-content/uploads/2019/04/session.jpg?resize=1024%2C691&amp;ssl=1 1024w,https://dbatools.io/wp-content/uploads/2019/04/session.jpg?resize=300%2C202&amp;ssl=1 300w,https://dbatools.io/wp-content/uploads/2019/04/session.jpg?resize=768%2C518&amp;ssl=1 768w,https://dbatools.io/wp-content/uploads/2019/04/session.jpg?w=1260&amp;ssl=1 1260w" sizes="(max-width: 800px) 100vw, 800px" data-recalc-dims="1"></noscript></a></p>
<p>Keep in mind that the entire file is read each time you enumerate. Which is not a big deal, but should be considered if you have millions of logins.</p>
<p>Note that I did set a max on the Login Tracker file size to 50 MB so if you want to modify that, you can use PowerShell or SSMS (Instance &#10145; Management &#10145; Extended Events &#10145; Sessions &#10145; Login Tracker &#10145; right-click Properties &#10145; Data Storage &#10145; Remove/Add).  There is no dbatools command available to do this in PowerShell yet, so you&rsquo;ll have to do it manually until it&rsquo;s added.</p>
<h2>Using session enumeration</h2>
<p>This one requires no setup at all, but only captures whoever is logged in at the time that you run the command. This approach is what I originally used in Watch-DbaDbLogin (scheduled to run every 5 minutes) and it worked quite well.</p>
<p>So if you&rsquo;ve never seen the output for <a href="https://dbatools.io/Get-DbaProcess">Get-DbaProcess</a>, which does session enumeration, it&rsquo;s pretty useful. If you&rsquo;d like something even more lightweight that still gives you most of the information you need, you can use <a href="https://dbatools.io/Connect-DbaInstance">$server</a>.EnumProcesses()</p>
<p><a href="https://dbatools.io/wp-content/uploads/2019/04/process.jpg?ssl=1"><img src="https://dbatools.io/wp-content/uploads/2019/04/process.jpg?resize=800%2C382&amp;ssl=1" alt width="800" height="382" class="aligncenter size-large wp-image-7474 jetpack-lazy-image" data-recalc-dims="1" data-lazy-srcset="https://dbatools.io/wp-content/uploads/2019/04/process.jpg?resize=1024%2C489&amp;ssl=1 1024w, https://dbatools.io/wp-content/uploads/2019/04/process.jpg?resize=300%2C143&amp;ssl=1 300w, https://dbatools.io/wp-content/uploads/2019/04/process.jpg?resize=768%2C367&amp;ssl=1 768w, https://dbatools.io/wp-content/uploads/2019/04/process.jpg?w=1160&amp;ssl=1 1160w" data-lazy-sizes="(max-width: 800px) 100vw, 800px" data-lazy-src="https://dbatools.io/wp-content/uploads/2019/04/process.jpg?resize=800%2C382&amp;is-pending-load=1#038;ssl=1" srcset="data:image/gif;base64 ,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7 "><noscript><img src="https://dbatools.io/wp-content/uploads/2019/04/process.jpg?resize=800%2C382&amp;ssl=1" alt="" width="800" height="382" class="aligncenter size-large wp-image-7474" srcset="https://dbatools.io/wp-content/uploads/2019/04/process.jpg?resize=1024%2C489&amp;ssl=1 1024w,https://dbatools.io/wp-content/uploads/2019/04/process.jpg?resize=300%2C143&amp;ssl=1 300w,https://dbatools.io/wp-content/uploads/2019/04/process.jpg?resize=768%2C367&amp;ssl=1 768w,https://dbatools.io/wp-content/uploads/2019/04/process.jpg?w=1160&amp;ssl=1 1160w" sizes="(max-width: 800px) 100vw, 800px" data-recalc-dims="1"></noscript></a></p>
<p>Actually, scratch all that. Let&rsquo;s go with some lightweight, backwards-compatible T-SQL that gets us only what we need and nothing more. Honestly, of all the ways, I&rsquo;ve personally defaulted back to this one. It&rsquo;s just so succinct and efficient. There is the possibility that I&rsquo;ll miss a login, but this isn&rsquo;t a security audit and really, I inventoried 100% of the logins I needed for my last migration.</p>
<h2>Setup the SQL table</h2>
<p><script src="https://gist.github.com/potatoqualitee/0808072e35277f979a3deeb5c10046a5.js"></script></p>
<h2>Setup the collector</h2>
<p><script src="https://gist.github.com/potatoqualitee/20a3f84e987cafe03e0ebe3b4d593c65.js"></script></p>
<h2>Testing your results</h2>
<p>If you&rsquo;re testing the scripts on a non-busy system like I did, you may not get any results back because we&rsquo;re ignoring connections from dbatools and SQL Server Management Studio.</p>
<p>If you&rsquo;d like to ensure some results, just run this before performing a collection. This connects to SQL Server using a fake client name and performs a query that gathers database names.</p>
<p><script src="https://gist.github.com/potatoqualitee/43312bb399eb1d90bbf82ca81a7d3555.js"></script></p>
<h2>Scheduling</h2>
<p>To schedule the collection, you can use my favorite method, SQL Server Agent. I wrote about this in-depth in a post, <a href="https://dbatools.io/agent/">Scheduling PowerShell Tasks with SQL Agent</a>.</p>
<p>During my own migration, I used session enumeration and setup the collector to run every 5 minutes. With Traces or Extended Events, you can collect the logins far less frequently since they are stored on the remote server.</p>
<p>Hope this was helpful!<br>
Chrissy</p>

<div id="jp-relatedposts" class="jp-relatedposts">
	<h3 class="jp-relatedposts-headline"><em>Related</em></h3>
</div>			</div>

	<footer class="entry-footer">
		<span class="tags-links">Tagged <a href="https://dbatools.io/tag/party/" rel="tag">party</a></span>	</footer>
</article>


					
<div id="comments" class="comments-area">

	
			<h3 class="comments-title">
			12 thoughts on &ldquo;<span>three ways to track logins using dbatools</span>&rdquo;		</h3>

		
		<ol class="comment-list">
			    <li class="comment even thread-even depth-1" id="li-comment-1679">
        <article id="comment-1679" class="comment clearfix">

            <img alt src="https://secure.gravatar.com/avatar/b501a2627a38fa890ef2a631eee4b855?s=60&amp;d=mm&amp;r=g" class="avatar avatar-60 photo jetpack-lazy-image" height="60" width="60" data-lazy-srcset="https://secure.gravatar.com/avatar/b501a2627a38fa890ef2a631eee4b855?s=120&amp;d=mm&amp;r=g 2x" data-lazy-src="https://secure.gravatar.com/avatar/b501a2627a38fa890ef2a631eee4b855?s=60&amp;is-pending-load=1#038;d=mm&amp;r=g" srcset="data:image/gif;base64 ,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7 "><noscript><img alt="" src="https://secure.gravatar.com/avatar/b501a2627a38fa890ef2a631eee4b855?s=60&amp;d=mm&amp;r=g" srcset="https://secure.gravatar.com/avatar/b501a2627a38fa890ef2a631eee4b855?s=120&amp;d=mm&amp;r=g 2x" class="avatar avatar-60 photo" height="60" width="60"></noscript>
            <div class="comment-wrapper">

                <header class="comment-meta comment-author vcard">
                    <cite><b class="fn"><a href="http://dhlotter.blogspot.com" rel="external nofollow ugc" class="url">Hermann</a></b> </cite><a class="comment-time" href="https://dbatools.io/track-logins/#comment-1679"><time datetime="2018-04-11T04:24:20+00:00">April 11, 2018</time></a><a rel="nofollow" class="comment-reply-link" href="https://dbatools.io/track-logins/?replytocom=1679#respond" data-commentid="1679" data-postid="7432" data-belowelement="comment-1679" data-respondelement="respond" aria-label="Reply to Hermann">Reply</a>                </header>

                
                <div class="comment-content entry-content">
                    <p>Great article Chrissy. I recently went through a similar exercise and found SQL Audit lacking as well. We settled on XE, same, little over the top but gets the work done efficiently. Didn&rsquo;t know about Read-DbaXEFile, flashed out for more morning trading.</p>
                                    </div>

            </div>

        </article>
    <ul class="children">
    <li class="comment byuser comment-author-admin bypostauthor odd alt depth-2" id="li-comment-1683">
        <article id="comment-1683" class="comment clearfix">

            <img alt src="https://secure.gravatar.com/avatar/527b83e9dfbeab5aeeab7a03c5f1ba7c?s=60&amp;d=mm&amp;r=g" class="avatar avatar-60 photo jetpack-lazy-image" height="60" width="60" data-lazy-srcset="https://secure.gravatar.com/avatar/527b83e9dfbeab5aeeab7a03c5f1ba7c?s=120&amp;d=mm&amp;r=g 2x" data-lazy-src="https://secure.gravatar.com/avatar/527b83e9dfbeab5aeeab7a03c5f1ba7c?s=60&amp;is-pending-load=1#038;d=mm&amp;r=g" srcset="data:image/gif;base64 ,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7 "><noscript><img alt="" src="https://secure.gravatar.com/avatar/527b83e9dfbeab5aeeab7a03c5f1ba7c?s=60&amp;d=mm&amp;r=g" srcset="https://secure.gravatar.com/avatar/527b83e9dfbeab5aeeab7a03c5f1ba7c?s=120&amp;d=mm&amp;r=g 2x" class="avatar avatar-60 photo" height="60" width="60"></noscript>
            <div class="comment-wrapper">

                <header class="comment-meta comment-author vcard">
                    <cite><b class="fn"><a href="http://blog.netnerds.net" rel="external nofollow ugc" class="url">Chrissy LeMaire</a></b> <span>Post author</span></cite><a class="comment-time" href="https://dbatools.io/track-logins/#comment-1683"><time datetime="2018-04-11T12:24:23+00:00">April 11, 2018</time></a><a rel="nofollow" class="comment-reply-link" href="https://dbatools.io/track-logins/?replytocom=1683#respond" data-commentid="1683" data-postid="7432" data-belowelement="comment-1683" data-respondelement="respond" aria-label="Reply to Chrissy LeMaire">Reply</a>                </header>

                
                <div class="comment-content entry-content">
                    <p>Cool, Hermann! Did you use which Event did you end up using? sql_statements_starting?</p>
<p>We have a lot of new (since Jan) XE stuff &ndash; check out dbatools.io/xevents</p>
                                    </div>

            </div>

        </article>
    </li>
</ul>
</li>
    <li class="pingback even thread-odd thread-alt depth-1" id="comment-1682">
        <p>Pingback: <a href="https://curatedsql.com/2018/04/11/collecting-login-details-with-dbatools/" rel="external nofollow ugc" class="url">Collecting Login Details With dbatools &ndash; Curated SQL</a> </p>
    </li>
    <li class="comment odd alt thread-even depth-1" id="li-comment-6422">
        <article id="comment-6422" class="comment clearfix">

            <img alt src="https://secure.gravatar.com/avatar/06b255ff75bd26d24bae8cd90f6bdce2?s=60&amp;d=mm&amp;r=g" class="avatar avatar-60 photo jetpack-lazy-image" height="60" width="60" data-lazy-srcset="https://secure.gravatar.com/avatar/06b255ff75bd26d24bae8cd90f6bdce2?s=120&amp;d=mm&amp;r=g 2x" data-lazy-src="https://secure.gravatar.com/avatar/06b255ff75bd26d24bae8cd90f6bdce2?s=60&amp;is-pending-load=1#038;d=mm&amp;r=g" srcset="data:image/gif;base64 ,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7 "><noscript><img alt="" src="https://secure.gravatar.com/avatar/06b255ff75bd26d24bae8cd90f6bdce2?s=60&amp;d=mm&amp;r=g" srcset="https://secure.gravatar.com/avatar/06b255ff75bd26d24bae8cd90f6bdce2?s=120&amp;d=mm&amp;r=g 2x" class="avatar avatar-60 photo" height="60" width="60"></noscript>
            <div class="comment-wrapper">

                <header class="comment-meta comment-author vcard">
                    <cite><b class="fn">Greg</b> </cite><a class="comment-time" href="https://dbatools.io/track-logins/#comment-6422"><time datetime="2018-06-11T13:54:42+00:00">June 11, 2018</time></a><a rel="nofollow" class="comment-reply-link" href="https://dbatools.io/track-logins/?replytocom=6422#respond" data-commentid="6422" data-postid="7432" data-belowelement="comment-6422" data-respondelement="respond" aria-label="Reply to Greg">Reply</a>                </header>

                
                <div class="comment-content entry-content">
                    <p>I am trying to run the collector session-insert.ps1 script for extended events and I am getting the following error. I updated DBATools to latest. I am on sql 2017 on a localhost using all the standard scripts you provided. The first command executes without error but the second command fails. Everything worked until than. Any ideas? Thanks<br>
Write-DbaDataTable : Cannot validate argument on parameter &lsquo;InputObject&rsquo;. The argument is null. Provide a valid value for the argument, and then try running the command again.<br>
At line:6 char:33<br>
+ Write-DbaDataTable -InputObject $results -SqlInstance localhost -Data &hellip;<br>
+                                 ~~~~~~~~<br>
    + CategoryInfo          : InvalidData: (:) [Write-DbaDataTable], ParameterBindingValidationException<br>
    + FullyQualifiedErrorId : ParameterArgumentValidationError,Write-DbaDataTable</p>
                                    </div>

            </div>

        </article>
    <ul class="children">
    <li class="comment byuser comment-author-admin bypostauthor even depth-2" id="li-comment-6455">
        <article id="comment-6455" class="comment clearfix">

            <img alt src="https://secure.gravatar.com/avatar/527b83e9dfbeab5aeeab7a03c5f1ba7c?s=60&amp;d=mm&amp;r=g" class="avatar avatar-60 photo jetpack-lazy-image" height="60" width="60" data-lazy-srcset="https://secure.gravatar.com/avatar/527b83e9dfbeab5aeeab7a03c5f1ba7c?s=120&amp;d=mm&amp;r=g 2x" data-lazy-src="https://secure.gravatar.com/avatar/527b83e9dfbeab5aeeab7a03c5f1ba7c?s=60&amp;is-pending-load=1#038;d=mm&amp;r=g" srcset="data:image/gif;base64 ,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7 "><noscript><img alt="" src="https://secure.gravatar.com/avatar/527b83e9dfbeab5aeeab7a03c5f1ba7c?s=60&amp;d=mm&amp;r=g" srcset="https://secure.gravatar.com/avatar/527b83e9dfbeab5aeeab7a03c5f1ba7c?s=120&amp;d=mm&amp;r=g 2x" class="avatar avatar-60 photo" height="60" width="60"></noscript>
            <div class="comment-wrapper">

                <header class="comment-meta comment-author vcard">
                    <cite><b class="fn"><a href="http://blog.netnerds.net" rel="external nofollow ugc" class="url">Chrissy LeMaire</a></b> <span>Post author</span></cite><a class="comment-time" href="https://dbatools.io/track-logins/#comment-6455"><time datetime="2018-06-11T20:32:49+00:00">June 11, 2018</time></a><a rel="nofollow" class="comment-reply-link" href="https://dbatools.io/track-logins/?replytocom=6455#respond" data-commentid="6455" data-postid="7432" data-belowelement="comment-6455" data-respondelement="respond" aria-label="Reply to Chrissy LeMaire">Reply</a>                </header>

                
                <div class="comment-content entry-content">
                    <p>Hey Greg, that&rsquo;s because your result set is null. In my own script I assign the collection to a variable then check to see if the variable is null: if ($results) { write-dbadatatable -inputobject $results).</p>
                                    </div>

            </div>

        </article>
    <ul class="children">
    <li class="comment odd alt depth-3" id="li-comment-6522">
        <article id="comment-6522" class="comment clearfix">

            <img alt src="https://secure.gravatar.com/avatar/06b255ff75bd26d24bae8cd90f6bdce2?s=60&amp;d=mm&amp;r=g" class="avatar avatar-60 photo jetpack-lazy-image" height="60" width="60" data-lazy-srcset="https://secure.gravatar.com/avatar/06b255ff75bd26d24bae8cd90f6bdce2?s=120&amp;d=mm&amp;r=g 2x" data-lazy-src="https://secure.gravatar.com/avatar/06b255ff75bd26d24bae8cd90f6bdce2?s=60&amp;is-pending-load=1#038;d=mm&amp;r=g" srcset="data:image/gif;base64 ,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7 "><noscript><img alt="" src="https://secure.gravatar.com/avatar/06b255ff75bd26d24bae8cd90f6bdce2?s=60&amp;d=mm&amp;r=g" srcset="https://secure.gravatar.com/avatar/06b255ff75bd26d24bae8cd90f6bdce2?s=120&amp;d=mm&amp;r=g 2x" class="avatar avatar-60 photo" height="60" width="60"></noscript>
            <div class="comment-wrapper">

                <header class="comment-meta comment-author vcard">
                    <cite><b class="fn">Greg</b> </cite><a class="comment-time" href="https://dbatools.io/track-logins/#comment-6522"><time datetime="2018-06-12T12:01:48+00:00">June 12, 2018</time></a><a rel="nofollow" class="comment-reply-link" href="https://dbatools.io/track-logins/?replytocom=6522#respond" data-commentid="6522" data-postid="7432" data-belowelement="comment-6522" data-respondelement="respond" aria-label="Reply to Greg">Reply</a>                </header>

                
                <div class="comment-content entry-content">
                    <p>I understand it is null, i guess my question is, using the script, why is it null? I can see data in the session in SSMS so there is data. It also appears you use the function &lsquo;Read-DbaXEFile&rsquo; but this function is no longer in DBATools. (It is not listed in the command index) I am starting to think that is why the variable is null.<br>
Thank you</p>
                                    </div>

            </div>

        </article>
    <ul class="children">
    <li class="comment byuser comment-author-admin bypostauthor even depth-4" id="li-comment-6527">
        <article id="comment-6527" class="comment clearfix">

            <img alt src="https://secure.gravatar.com/avatar/527b83e9dfbeab5aeeab7a03c5f1ba7c?s=60&amp;d=mm&amp;r=g" class="avatar avatar-60 photo jetpack-lazy-image" height="60" width="60" data-lazy-srcset="https://secure.gravatar.com/avatar/527b83e9dfbeab5aeeab7a03c5f1ba7c?s=120&amp;d=mm&amp;r=g 2x" data-lazy-src="https://secure.gravatar.com/avatar/527b83e9dfbeab5aeeab7a03c5f1ba7c?s=60&amp;is-pending-load=1#038;d=mm&amp;r=g" srcset="data:image/gif;base64 ,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7 "><noscript><img alt="" src="https://secure.gravatar.com/avatar/527b83e9dfbeab5aeeab7a03c5f1ba7c?s=60&amp;d=mm&amp;r=g" srcset="https://secure.gravatar.com/avatar/527b83e9dfbeab5aeeab7a03c5f1ba7c?s=120&amp;d=mm&amp;r=g 2x" class="avatar avatar-60 photo" height="60" width="60"></noscript>
            <div class="comment-wrapper">

                <header class="comment-meta comment-author vcard">
                    <cite><b class="fn"><a href="http://blog.netnerds.net" rel="external nofollow ugc" class="url">Chrissy LeMaire</a></b> <span>Post author</span></cite><a class="comment-time" href="https://dbatools.io/track-logins/#comment-6527"><time datetime="2018-06-12T12:46:52+00:00">June 12, 2018</time></a><a rel="nofollow" class="comment-reply-link" href="https://dbatools.io/track-logins/?replytocom=6527#respond" data-commentid="6527" data-postid="7432" data-belowelement="comment-6527" data-respondelement="respond" aria-label="Reply to Chrissy LeMaire">Reply</a>                </header>

                
                <div class="comment-content entry-content">
                    <p>The command index is out of date, the command does exist. You can see all our commands using: Find-DbaCommand.</p>
<p>Did you add any wheres and did you ensure the Login Tracker session is running? </p>
<p>#ensure you have servers assigned<br>
$servers</p>
<p>#ensure your login tracker is running<br>
$servers | Get-DbaXESession  -Session &lsquo;Login Tracker&rsquo;</p>
                                    </div>

            </div>

        </article>
    <ul class="children">
    <li class="comment odd alt depth-5" id="li-comment-6529">
        <article id="comment-6529" class="comment clearfix">

            <img alt src="https://secure.gravatar.com/avatar/06b255ff75bd26d24bae8cd90f6bdce2?s=60&amp;d=mm&amp;r=g" class="avatar avatar-60 photo jetpack-lazy-image" height="60" width="60" data-lazy-srcset="https://secure.gravatar.com/avatar/06b255ff75bd26d24bae8cd90f6bdce2?s=120&amp;d=mm&amp;r=g 2x" data-lazy-src="https://secure.gravatar.com/avatar/06b255ff75bd26d24bae8cd90f6bdce2?s=60&amp;is-pending-load=1#038;d=mm&amp;r=g" srcset="data:image/gif;base64 ,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7 "><noscript><img alt="" src="https://secure.gravatar.com/avatar/06b255ff75bd26d24bae8cd90f6bdce2?s=60&amp;d=mm&amp;r=g" srcset="https://secure.gravatar.com/avatar/06b255ff75bd26d24bae8cd90f6bdce2?s=120&amp;d=mm&amp;r=g 2x" class="avatar avatar-60 photo" height="60" width="60"></noscript>
            <div class="comment-wrapper">

                <header class="comment-meta comment-author vcard">
                    <cite><b class="fn">Greg</b> </cite><a class="comment-time" href="https://dbatools.io/track-logins/#comment-6529"><time datetime="2018-06-12T13:18:28+00:00">June 12, 2018</time></a>                </header>

                
                <div class="comment-content entry-content">
                    <p>I got it working, here is what I found.<br>
The $Servers is not working &ndash; I ran this before the script above and that is when it failed (not this ype, this created the null issue): $servers = Get-DbaRegisteredServer -SqlInstance localhost<br>
So Something with that is not working. Still not sure.I ran the following and it returned nothing (but I am newish to powershell so this may not be right)<br>
$servers = Get-DbaRegisteredServer -SqlInstance localhost<br>
write-output $servers<br>
I then ran the next command but i took out the &lsquo;$servers |&rsquo; and ran without, it prompted me for the instance, i typed it in and everything worked. So I am not sure what the issue with registering the server is. It is a SQL Server 2017 if that makes any difference. Here is what worked.<br>
# Collect the results into a variable so that the bulk import is supafast<br>
$results =  Get-DbaXESession -Session &lsquo;Login Tracker&rsquo; | Read-DbaXEFile |<br>
Select-Object server_instance_name, server_principal_name, client_hostname, database_name, client_app_name, timestamp</p>
<p># Bulk import to the centralized database in an efficient manner (piping would write line by line)<br>
Write-DbaDataTable -InputObject $results -SqlInstance localhost -Database inventory -Table watchlogins</p>
<p>Thank you for your help</p>
                                    </div>

            </div>

        </article>
    </li>
</ul>
</li>
</ul>
</li>
</ul>
</li>
</ul>
</li>
    <li class="comment even thread-odd thread-alt depth-1" id="li-comment-47136">
        <article id="comment-47136" class="comment clearfix">

            <img alt src="https://secure.gravatar.com/avatar/28034878409624c75bf310d84ece4d8a?s=60&amp;d=mm&amp;r=g" class="avatar avatar-60 photo jetpack-lazy-image" height="60" width="60" data-lazy-srcset="https://secure.gravatar.com/avatar/28034878409624c75bf310d84ece4d8a?s=120&amp;d=mm&amp;r=g 2x" data-lazy-src="https://secure.gravatar.com/avatar/28034878409624c75bf310d84ece4d8a?s=60&amp;is-pending-load=1#038;d=mm&amp;r=g" srcset="data:image/gif;base64 ,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7 "><noscript><img alt="" src="https://secure.gravatar.com/avatar/28034878409624c75bf310d84ece4d8a?s=60&amp;d=mm&amp;r=g" srcset="https://secure.gravatar.com/avatar/28034878409624c75bf310d84ece4d8a?s=120&amp;d=mm&amp;r=g 2x" class="avatar avatar-60 photo" height="60" width="60"></noscript>
            <div class="comment-wrapper">

                <header class="comment-meta comment-author vcard">
                    <cite><b class="fn">Pollus Brodeur</b> </cite><a class="comment-time" href="https://dbatools.io/track-logins/#comment-47136"><time datetime="2019-02-05T17:17:15+00:00">February 5, 2019</time></a><a rel="nofollow" class="comment-reply-link" href="https://dbatools.io/track-logins/?replytocom=47136#respond" data-commentid="47136" data-postid="7432" data-belowelement="comment-47136" data-respondelement="respond" aria-label="Reply to Pollus Brodeur">Reply</a>                </header>

                
                <div class="comment-content entry-content">
                    <p>Hi Chrissy,</p>
<p>Great article</p>
<p>I wanted to use the Default Trace to get this information but something is bothering me. Default trace does not capture Login or Logout event id (14,15). This means that it does not garanty all connections will be captured. I tried connecting and running a simple query the close the connection. It was not in the trace. It&rsquo;s worth warning the reader. They must be aware before taking migration decision based on incomplete data.</p>
                                    </div>

            </div>

        </article>
    </li>
    <li class="comment odd alt thread-even depth-1" id="li-comment-51118">
        <article id="comment-51118" class="comment clearfix">

            <img alt src="https://secure.gravatar.com/avatar/c20f91a6faef792058a693b973e53339?s=60&amp;d=mm&amp;r=g" class="avatar avatar-60 photo jetpack-lazy-image" height="60" width="60" data-lazy-srcset="https://secure.gravatar.com/avatar/c20f91a6faef792058a693b973e53339?s=120&amp;d=mm&amp;r=g 2x" data-lazy-src="https://secure.gravatar.com/avatar/c20f91a6faef792058a693b973e53339?s=60&amp;is-pending-load=1#038;d=mm&amp;r=g" srcset="data:image/gif;base64 ,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7 "><noscript><img alt="" src="https://secure.gravatar.com/avatar/c20f91a6faef792058a693b973e53339?s=60&amp;d=mm&amp;r=g" srcset="https://secure.gravatar.com/avatar/c20f91a6faef792058a693b973e53339?s=120&amp;d=mm&amp;r=g 2x" class="avatar avatar-60 photo" height="60" width="60"></noscript>
            <div class="comment-wrapper">

                <header class="comment-meta comment-author vcard">
                    <cite><b class="fn">Luke</b> </cite><a class="comment-time" href="https://dbatools.io/track-logins/#comment-51118"><time datetime="2019-02-20T00:49:12+00:00">February 20, 2019</time></a><a rel="nofollow" class="comment-reply-link" href="https://dbatools.io/track-logins/?replytocom=51118#respond" data-commentid="51118" data-postid="7432" data-belowelement="comment-51118" data-respondelement="respond" aria-label="Reply to Luke">Reply</a>                </header>

                
                <div class="comment-content entry-content">
                    <p>Could you, please, explain to me why you do not audit anything comeing from ssms?</p>
<p>not like &lsquo;Microsoft SQL Server Management Studio%&rsquo;</p>
<p>Thank you!<br>
Luke</p>
                                    </div>

            </div>

        </article>
    <ul class="children">
    <li class="comment byuser comment-author-admin bypostauthor even depth-2" id="li-comment-51241">
        <article id="comment-51241" class="comment clearfix">

            <img alt src="https://secure.gravatar.com/avatar/527b83e9dfbeab5aeeab7a03c5f1ba7c?s=60&amp;d=mm&amp;r=g" class="avatar avatar-60 photo jetpack-lazy-image" height="60" width="60" data-lazy-srcset="https://secure.gravatar.com/avatar/527b83e9dfbeab5aeeab7a03c5f1ba7c?s=120&amp;d=mm&amp;r=g 2x" data-lazy-src="https://secure.gravatar.com/avatar/527b83e9dfbeab5aeeab7a03c5f1ba7c?s=60&amp;is-pending-load=1#038;d=mm&amp;r=g" srcset="data:image/gif;base64 ,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7 "><noscript><img alt="" src="https://secure.gravatar.com/avatar/527b83e9dfbeab5aeeab7a03c5f1ba7c?s=60&amp;d=mm&amp;r=g" srcset="https://secure.gravatar.com/avatar/527b83e9dfbeab5aeeab7a03c5f1ba7c?s=120&amp;d=mm&amp;r=g 2x" class="avatar avatar-60 photo" height="60" width="60"></noscript>
            <div class="comment-wrapper">

                <header class="comment-meta comment-author vcard">
                    <cite><b class="fn"><a href="http://blog.netnerds.net" rel="external nofollow ugc" class="url">Chrissy LeMaire</a></b> <span>Post author</span></cite><a class="comment-time" href="https://dbatools.io/track-logins/#comment-51241"><time datetime="2019-02-20T09:12:39+00:00">February 20, 2019</time></a><a rel="nofollow" class="comment-reply-link" href="https://dbatools.io/track-logins/?replytocom=51241#respond" data-commentid="51241" data-postid="7432" data-belowelement="comment-51241" data-respondelement="respond" aria-label="Reply to Chrissy LeMaire">Reply</a>                </header>

                
                <div class="comment-content entry-content">
                    <p>Hey Luke, the auditing is primarily intended to ensure that all supported applications are known and considered/planned for when performing the migration. When SSMS connects to a server, it&rsquo;s more of an ad-hoc behavior that likely does not need need to be managed. If you would like to audit for purposes other than migrations or if your end-users are connecting via ssms, then you can remove the filter &#128077;</p>
                                    </div>

            </div>

        </article>
    </li>
</ul>
</li>
    <li class="comment odd alt thread-odd thread-alt depth-1" id="li-comment-63865">
        <article id="comment-63865" class="comment clearfix">

            <img alt src="https://secure.gravatar.com/avatar/0314df7499b9161761e6bd0311e2739d?s=60&amp;d=mm&amp;r=g" class="avatar avatar-60 photo jetpack-lazy-image" height="60" width="60" data-lazy-srcset="https://secure.gravatar.com/avatar/0314df7499b9161761e6bd0311e2739d?s=120&amp;d=mm&amp;r=g 2x" data-lazy-src="https://secure.gravatar.com/avatar/0314df7499b9161761e6bd0311e2739d?s=60&amp;is-pending-load=1#038;d=mm&amp;r=g" srcset="data:image/gif;base64 ,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7 "><noscript><img alt="" src="https://secure.gravatar.com/avatar/0314df7499b9161761e6bd0311e2739d?s=60&amp;d=mm&amp;r=g" srcset="https://secure.gravatar.com/avatar/0314df7499b9161761e6bd0311e2739d?s=120&amp;d=mm&amp;r=g 2x" class="avatar avatar-60 photo" height="60" width="60"></noscript>
            <div class="comment-wrapper">

                <header class="comment-meta comment-author vcard">
                    <cite><b class="fn">sam</b> </cite><a class="comment-time" href="https://dbatools.io/track-logins/#comment-63865"><time datetime="2019-04-23T17:16:37+00:00">April 23, 2019</time></a><a rel="nofollow" class="comment-reply-link" href="https://dbatools.io/track-logins/?replytocom=63865#respond" data-commentid="63865" data-postid="7432" data-belowelement="comment-63865" data-respondelement="respond" aria-label="Reply to sam">Reply</a>                </header>

                
                <div class="comment-content entry-content">
                    <p>Hi I have a similar required to capture &ndash; username, login time, logout time. can you please share me scripts to do the same. thank you.</p>
                                    </div>

            </div>

        </article>
    </li>
		</ol>

		
	
	
	
		<div id="respond" class="comment-respond">
							<h3 id="reply-title" class="comment-reply-title">Leave a Reply					<small><a rel="nofollow" id="cancel-comment-reply-link" href="https://dbatools.io/track-logins/#respond" style="display:none;">Cancel reply</a></small>
				</h3>
						<form id="commentform" class="comment-form">
				<iframe title="Comment Form" src="https://jetpack.wordpress.com/jetpack-comment/?blogid=111052036&amp;postid=7432&amp;comment_registration=0&amp;require_name_email=1&amp;stc_enabled=1&amp;stb_enabled=1&amp;show_avatars=1&amp;avatar_default=mystery&amp;greeting=Leave+a+Reply&amp;greeting_reply=Leave+a+Reply+to+%25s&amp;color_scheme=light&amp;lang=en_US&amp;jetpack_version=8.4.2&amp;show_cookie_consent=10&amp;has_cookie_consent=0&amp;token_key=%3Bnormal%3B&amp;sig=10c5f3a88eb19f9406df091525a8aefac4d72387#parent=https%3A%2F%2Fdbatools.io%2Ftrack-logins%2F" style="width:100%; height: 430px; border:0;" name="jetpack_remote_comment" class="jetpack_remote_comment" id="jetpack_remote_comment" sandbox="allow-same-origin allow-top-navigation allow-scripts allow-forms allow-popups"></iframe>
									
					<script>
						document.addEventListener('DOMContentLoaded', function () {
							var commentForms = document.getElementsByClassName('jetpack_remote_comment');
							for (var i = 0; i < commentForms.length; i++) {
								commentForms[i].allowTransparency = false;
								commentForms[i].scrolling = 'no';
							}
						});
					</script>
					
							</form>
		</div>

		
		<input type="hidden" name="comment_parent" id="comment_parent" value="">

		<p class="akismet_comment_form_privacy_notice">This site uses Akismet to reduce spam. <a href="https://akismet.com/privacy/" target="_blank" rel="nofollow noopener">Learn how your comment data is processed</a>.</p>
</div>

				
				</main>
			</div>

                            
<div id="secondary" class="widget-area sidebar" role="complementary">
	<aside id="search-2" class="widget widget_search"><form role="search" method="get" class="search-form" action="https://dbatools.io/">
				<label>
					<span class="screen-reader-text">Search for:</span>
					<input type="search" class="search-field" placeholder="Search &hellip;" value="" name="s">
				</label>
				<input type="submit" class="search-submit" value="Search">
			</form></aside><aside id="custom_html-3" class="widget_text widget widget_custom_html"><h2 class="widget-title">new book</h2><div class="textwidget custom-html-widget">dbatools in a month of lunches is now available in Manning's Early Access Program &#128640; <br>&nbsp;

<p align="center"><a href="https://dbatools.io/book"><img alt="dbatools meap" src="https://blog.netnerds.net/images/meap.png?w=800&amp;ssl=1" data-recalc-dims="1" data-lazy-src="https://blog.netnerds.net/images/meap.png?w=800&amp;is-pending-load=1#038;ssl=1" srcset="data:image/gif;base64 ,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7 " class=" jetpack-lazy-image"><noscript><img alt="dbatools meap" src="https://blog.netnerds.net/images/meap.png?w=800&amp;ssl=1" data-recalc-dims="1"></noscript></a></p>

Get the book now at <a href="https://dbatools.io/book">manning.com</a></div></aside><aside id="sticky-posts-2" class="widget widget_ultimate_posts"><h2 class="widget-title"><a href="https://dbatools.io/blog">posts</a></h2>

<div class="upw-posts hfeed">

  
      
        
        <article class="post-10008 post type-post status-publish format-standard has-post-thumbnail hentry category-announcements">

          <header>

                          <div class="entry-image">
                <a href="https://dbatools.io/aliases/" rel="bookmark">
                  <img width="300" height="155" src="https://dbatools.io/wp-content/uploads/2020/01/cli12a.png?fit=300%2C155&amp;ssl=1" class="attachment-medium size-medium wp-post-image jetpack-lazy-image" alt="" data-lazy-srcset="https://dbatools.io/wp-content/uploads/2020/01/cli12a.png?w=905&amp;ssl=1 905w, https://dbatools.io/wp-content/uploads/2020/01/cli12a.png?resize=300%2C155&amp;ssl=1 300w, https://dbatools.io/wp-content/uploads/2020/01/cli12a.png?resize=768%2C396&amp;ssl=1 768w" data-lazy-sizes="(max-width: 300px) 100vw, 300px" data-lazy-src="https://dbatools.io/wp-content/uploads/2020/01/cli12a.png?fit=300%2C155&amp;ssl=1&amp;is-pending-load=1" srcset="data:image/gif;base64 ,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7 ">                </a>
              </div>
            
                          <h4 class="entry-title">
                <a href="https://dbatools.io/aliases/" rel="bookmark">
                  working with sql client aliases                </a>
              </h4>
            
            
          </header>

          
          <footer>

            
            
            
          </footer>

        </article>

      
        
        <article class="post-10124 post type-post status-publish format-standard has-post-thumbnail hentry category-announcements">

          <header>

                          <div class="entry-image">
                <a href="https://dbatools.io/bits2020/" rel="bookmark">
                  <img width="300" height="108" src="https://dbatools.io/wp-content/uploads/2016/07/dbatools-for-post.png?fit=300%2C108&amp;ssl=1" class="attachment-medium size-medium wp-post-image jetpack-lazy-image" alt="" data-lazy-src="https://dbatools.io/wp-content/uploads/2016/07/dbatools-for-post.png?fit=300%2C108&amp;ssl=1&amp;is-pending-load=1" srcset="data:image/gif;base64 ,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7 ">                </a>
              </div>
            
                          <h4 class="entry-title">
                <a href="https://dbatools.io/bits2020/" rel="bookmark">
                  Vote for these SQLBits 2020 PowerShell sessions                </a>
              </h4>
            
            
          </header>

          
          <footer>

            
            
            
          </footer>

        </article>

      
        
        <article class="post-10010 post type-post status-publish format-standard has-post-thumbnail hentry category-announcements">

          <header>

                          <div class="entry-image">
                <a href="https://dbatools.io/size/" rel="bookmark">
                  <img width="300" height="139" src="https://dbatools.io/wp-content/uploads/2019/09/disksize.png?fit=300%2C139&amp;ssl=1" class="attachment-medium size-medium wp-post-image jetpack-lazy-image" alt="" data-lazy-srcset="https://dbatools.io/wp-content/uploads/2019/09/disksize.png?w=1139&amp;ssl=1 1139w, https://dbatools.io/wp-content/uploads/2019/09/disksize.png?resize=300%2C139&amp;ssl=1 300w, https://dbatools.io/wp-content/uploads/2019/09/disksize.png?resize=768%2C355&amp;ssl=1 768w, https://dbatools.io/wp-content/uploads/2019/09/disksize.png?resize=1024%2C473&amp;ssl=1 1024w" data-lazy-sizes="(max-width: 300px) 100vw, 300px" data-lazy-src="https://dbatools.io/wp-content/uploads/2019/09/disksize.png?fit=300%2C139&amp;ssl=1&amp;is-pending-load=1" srcset="data:image/gif;base64 ,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7 ">                </a>
              </div>
            
                          <h4 class="entry-title">
                <a href="https://dbatools.io/size/" rel="bookmark">
                  working with file sizes in dbatools                </a>
              </h4>
            
            
          </header>

          
          <footer>

            
            
            
          </footer>

        </article>

      
        
        <article class="post-9995 post type-post status-publish format-standard has-post-thumbnail hentry category-announcements tag-book tag-dbatoolsmol tag-monthoflunches">

          <header>

                          <div class="entry-image">
                <a href="https://dbatools.io/meap/" rel="bookmark">
                  <img width="300" height="159" src="https://dbatools.io/wp-content/uploads/2019/09/2019-09-04_13-00-161.png?fit=300%2C159&amp;ssl=1" class="attachment-medium size-medium wp-post-image jetpack-lazy-image" alt="" data-lazy-srcset="https://dbatools.io/wp-content/uploads/2019/09/2019-09-04_13-00-161.png?w=1287&amp;ssl=1 1287w, https://dbatools.io/wp-content/uploads/2019/09/2019-09-04_13-00-161.png?resize=300%2C159&amp;ssl=1 300w, https://dbatools.io/wp-content/uploads/2019/09/2019-09-04_13-00-161.png?resize=768%2C408&amp;ssl=1 768w, https://dbatools.io/wp-content/uploads/2019/09/2019-09-04_13-00-161.png?resize=1024%2C543&amp;ssl=1 1024w" data-lazy-sizes="(max-width: 300px) 100vw, 300px" data-lazy-src="https://dbatools.io/wp-content/uploads/2019/09/2019-09-04_13-00-161.png?fit=300%2C159&amp;ssl=1&amp;is-pending-load=1" srcset="data:image/gif;base64 ,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7 ">                </a>
              </div>
            
                          <h4 class="entry-title">
                <a href="https://dbatools.io/meap/" rel="bookmark">
                  Learn dbatools in a Month of Lunches                </a>
              </h4>
            
            
          </header>

          
          <footer>

            
            
            
          </footer>

        </article>

      
        
        <article class="post-9928 post type-post status-publish format-standard has-post-thumbnail hentry category-announcements">

          <header>

                          <div class="entry-image">
                <a href="https://dbatools.io/oldapp/" rel="bookmark">
                  <img width="300" height="108" src="https://dbatools.io/wp-content/uploads/2016/07/dbatools-for-post.png?fit=300%2C108&amp;ssl=1" class="attachment-medium size-medium wp-post-image jetpack-lazy-image" alt="" data-lazy-src="https://dbatools.io/wp-content/uploads/2016/07/dbatools-for-post.png?fit=300%2C108&amp;ssl=1&amp;is-pending-load=1" srcset="data:image/gif;base64 ,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7 ">                </a>
              </div>
            
                          <h4 class="entry-title">
                <a href="https://dbatools.io/oldapp/" rel="bookmark">
                  migrating super old app databases                </a>
              </h4>
            
            
          </header>

          
          <footer>

            
            
            
          </footer>

        </article>

      
        
        <article class="post-9862 post type-post status-publish format-standard has-post-thumbnail hentry category-announcements tag-dbatools-configs tag-dbatools-settings tag-defaults">

          <header>

                          <div class="entry-image">
                <a href="https://dbatools.io/configuration/" rel="bookmark">
                  <img width="300" height="202" src="https://dbatools.io/wp-content/uploads/2019/08/Get-DbatoolsConfig_Output.png?fit=300%2C202&amp;ssl=1" class="attachment-medium size-medium wp-post-image jetpack-lazy-image" alt="" data-lazy-srcset="https://dbatools.io/wp-content/uploads/2019/08/Get-DbatoolsConfig_Output.png?w=1104&amp;ssl=1 1104w, https://dbatools.io/wp-content/uploads/2019/08/Get-DbatoolsConfig_Output.png?resize=300%2C202&amp;ssl=1 300w, https://dbatools.io/wp-content/uploads/2019/08/Get-DbatoolsConfig_Output.png?resize=768%2C516&amp;ssl=1 768w, https://dbatools.io/wp-content/uploads/2019/08/Get-DbatoolsConfig_Output.png?resize=1024%2C688&amp;ssl=1 1024w" data-lazy-sizes="(max-width: 300px) 100vw, 300px" data-lazy-src="https://dbatools.io/wp-content/uploads/2019/08/Get-DbatoolsConfig_Output.png?fit=300%2C202&amp;ssl=1&amp;is-pending-load=1" srcset="data:image/gif;base64 ,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7 ">                </a>
              </div>
            
                          <h4 class="entry-title">
                <a href="https://dbatools.io/configuration/" rel="bookmark">
                  dbatools advanced configuration                </a>
              </h4>
            
            
          </header>

          
          <footer>

            
            
            
          </footer>

        </article>

      
  
</div>

</aside><aside id="blog_subscription-2" class="widget widget_blog_subscription jetpack_subscription_widget"><h2 class="widget-title">subscribe</h2>
            <form action="#" method="post" accept-charset="utf-8" id="subscribe-blog-blog_subscription-2">
				                    <div id="subscribe-text"><p>Enter your email address to subscribe to this blog and receive notifications of new posts by email.</p>
</div><p>Join 2,166 other subscribers</p>
                    <p id="subscribe-email">
                        <label id="jetpack-subscribe-label" class="screen-reader-text" for="subscribe-field-blog_subscription-2">
							email                        </label>
                        <input type="email" name="email" required="required" class="required" value="" id="subscribe-field-blog_subscription-2" placeholder="email">
                    </p>

                    <p id="subscribe-submit">
                        <input type="hidden" name="action" value="subscribe">
                        <input type="hidden" name="source" value="https://dbatools.io/track-logins/">
                        <input type="hidden" name="sub-type" value="widget">
                        <input type="hidden" name="redirect_fragment" value="blog_subscription-2">
						                        <button type="submit" name="jetpack_subscriptions_widget">
	                        subscribe                        </button>
                    </p>
				            </form>
		
</aside><aside id="eu_cookie_law_widget-3" class="widget widget_eu_cookie_law_widget"><div class="hide-on-button" data-hide-timeout="30" data-consent-expiration="180" id="eu-cookie-law">
	<form method="post">
		<input type="submit" value="Close and accept" class="accept">
	</form>

	Privacy &amp; Cookies: This site uses cookies. By continuing to use this website, you agree to their use. <br>
To find out more, including how to control cookies, see here:
	<a href="https://automattic.com/cookies/">
		Cookie Policy	</a>
</div>
</aside></div>
            
		</div>
	</div>

    <footer id="colophon" class="site-footer" role="contentinfo">
                    <div class="footer-connect">
                <div class="container">
                    <div class="row">
                        <div class="col-sm-2"></div>
                        
                        <div class="col-sm-8">
                                                            <div class="footer-social">
                                    <h5 class="follow-heading">dbatools on the web</h5><div class="footer-social-icons"><a target="_blank" href="http://git.io/b3oo" title="github"><i class="fa fa-github"></i></a><a target="_blank" href="https://www.youtube.com/channel/UC1qrq0zfswSM_Uf9-vBrsiw" title="YouTube"><i class="fa fa-youtube"></i></a><a target="_blank" href="https://dbatools.io/slack" title="Slack"><i class="fa fa-slack"></i></a><a target="_blank" href="https://twitter.com/psdbatools" title="Twitter"><i class="fa fa-twitter"></i></a><a target="_blank" href="https://www.linkedin.com/company/dbatools.io" title="LinkedIn"><i class="fa fa-linkedin-square fa-linkedin"></i></a><a target="_blank" href="https://twitch.tv/dbatools" title="Twitch"><i class="fa fa-twitch"></i></a><a target="_blank" href="https://dbatools.io/book" title="Manning"><i class="fa fa-book fa-manning"></i></a></div>                                </div>
                                                    </div>
                        <div class="col-sm-2"></div>
                    </div>
                </div>
            </div>
        
        <div class="site-info">
            <div class="container">
                                &copy; 2020 Chrissy LeMaire, PowerShell and SQL Server MVP<br><a href="https://dbatools.io/contact">Contact Us</a>            </div>
        </div>
        

    </footer>
</div>

	<div style="display:none">
	<div class="grofile-hash-map-b501a2627a38fa890ef2a631eee4b855">
	</div>
	<div class="grofile-hash-map-527b83e9dfbeab5aeeab7a03c5f1ba7c">
	</div>
	<div class="grofile-hash-map-06b255ff75bd26d24bae8cd90f6bdce2">
	</div>
	<div class="grofile-hash-map-28034878409624c75bf310d84ece4d8a">
	</div>
	<div class="grofile-hash-map-c20f91a6faef792058a693b973e53339">
	</div>
	<div class="grofile-hash-map-0314df7499b9161761e6bd0311e2739d">
	</div>
	</div>
<script type="text/javascript" src="https://c0.wp.com/p/jetpack/8.4.2/_inc/build/photon/photon.min.js"></script>
<script type="text/javascript" src="https://secure.gravatar.com/js/gprofiles.js?ver=202035"></script>
<script type="text/javascript">
/* <![CDATA[ */
var WPGroHo = {"my_hash":""};
/* ]]> */
</script>
<script type="text/javascript" src="https://c0.wp.com/p/jetpack/8.4.2/modules/wpgroho.js"></script>
<script type="text/javascript" src="https://dbatools.io/wp-content/themes/onepress-master/assets/js/plugins.js?ver=11.0.0"></script>
<script type="text/javascript" src="https://dbatools.io/wp-content/themes/onepress-master/assets/js/bootstrap.min.js?ver=11.0.0"></script>
<script type="text/javascript" src="https://dbatools.io/wp-content/themes/onepress-master/assets/js/lightgallery.js?ver=11.0.0"></script>
<script type="text/javascript" src="https://dbatools.io/wp-content/themes/onepress-master/assets/js/theme.js?ver=11.0.0"></script>
<script type="text/javascript" src="https://c0.wp.com/p/jetpack/8.4.2/_inc/build/widgets/eu-cookie-law/eu-cookie-law.min.js"></script>
<script type="text/javascript" src="https://c0.wp.com/p/jetpack/8.4.2/_inc/build/lazy-images/js/lazy-images.min.js"></script>
<script type="text/javascript" src="https://dbatools.io/wp-content/plugins/onepress-plus/assets/js/onepress-plus.js?ver=10.1.8"></script>
<script async="async" type="text/javascript" src="https://dbatools.io/wp-content/plugins/akismet/_inc/form.js?ver=4.1.4"></script>

		
		<script type="text/javascript">
			(function () {
				var comm_par_el = document.getElementById( 'comment_parent' ),
					comm_par = ( comm_par_el && comm_par_el.value ) ? comm_par_el.value : '',
					frame = document.getElementById( 'jetpack_remote_comment' ),
					tellFrameNewParent;

				tellFrameNewParent = function () {
					if ( comm_par ) {
						frame.src = "https://jetpack.wordpress.com/jetpack-comment/?blogid=111052036&postid=7432&comment_registration=0&require_name_email=1&stc_enabled=1&stb_enabled=1&show_avatars=1&avatar_default=mystery&greeting=Leave+a+Reply&greeting_reply=Leave+a+Reply+to+%25s&color_scheme=light&lang=en_US&jetpack_version=8.4.2&show_cookie_consent=10&has_cookie_consent=0&token_key=%3Bnormal%3B&sig=10c5f3a88eb19f9406df091525a8aefac4d72387#parent=https%3A%2F%2Fdbatools.io%2Ftrack-logins%2F" + '&replytocom=' + parseInt( comm_par, 10 ).toString();
					} else {
						frame.src = "https://jetpack.wordpress.com/jetpack-comment/?blogid=111052036&postid=7432&comment_registration=0&require_name_email=1&stc_enabled=1&stb_enabled=1&show_avatars=1&avatar_default=mystery&greeting=Leave+a+Reply&greeting_reply=Leave+a+Reply+to+%25s&color_scheme=light&lang=en_US&jetpack_version=8.4.2&show_cookie_consent=10&has_cookie_consent=0&token_key=%3Bnormal%3B&sig=10c5f3a88eb19f9406df091525a8aefac4d72387#parent=https%3A%2F%2Fdbatools.io%2Ftrack-logins%2F";
					}
				};

				
				if ( 'undefined' !== typeof addComment ) {
					addComment._Jetpack_moveForm = addComment.moveForm;

					addComment.moveForm = function ( commId, parentId, respondId, postId ) {
						var returnValue = addComment._Jetpack_moveForm( commId, parentId, respondId, postId ),
							cancelClick, cancel;

						if ( false === returnValue ) {
							cancel = document.getElementById( 'cancel-comment-reply-link' );
							cancelClick = cancel.onclick;
							cancel.onclick = function () {
								var cancelReturn = cancelClick.call( this );
								if ( false !== cancelReturn ) {
									return cancelReturn;
								}

								if ( ! comm_par ) {
									return cancelReturn;
								}

								comm_par = 0;

								tellFrameNewParent();

								return cancelReturn;
							};
						}

						if ( comm_par == parentId ) {
							return returnValue;
						}

						comm_par = parentId;

						tellFrameNewParent();

						return returnValue;
					};
				}

				
				// Do the post message bit after the dom has loaded.
				document.addEventListener( 'DOMContentLoaded', function () {
					var iframe_url = "https:\/\/jetpack.wordpress.com";
					if ( window.postMessage ) {
						if ( document.addEventListener ) {
							window.addEventListener( 'message', function ( event ) {
								var origin = event.origin.replace( /^http:\/\//i, 'https://' );
								if ( iframe_url.replace( /^http:\/\//i, 'https://' ) !== origin ) {
									return;
								}
								jQuery( frame ).height( event.data );
							});
						} else if ( document.attachEvent ) {
							window.attachEvent( 'message', function ( event ) {
								var origin = event.origin.replace( /^http:\/\//i, 'https://' );
								if ( iframe_url.replace( /^http:\/\//i, 'https://' ) !== origin ) {
									return;
								}
								jQuery( frame ).height( event.data );
							});
						}
					}
				})

			})();
		</script>

		<script type="text/javascript" src="https://stats.wp.com/e-202035.js" async="async" defer></script>
<script type="text/javascript">
	_stq = window._stq || [];
	_stq.push([ 'view', {v:'ext',j:'1:8.4.2',blog:'111052036',post:'7432',tz:'0',srv:'dbatools.io'} ]);
	_stq.push([ 'clickTrackerInit', '111052036', '7432' ]);
</script>

</body>
</html>
